testchatbot(["main"],{"/OZq":function(n,t){},0:function(n,t,l){n.exports=l("x35b")},"6GLz":function(n,t){function l(n){return Promise.resolve().then(function(){throw Error("Cannot find module '"+n+"'.")})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="6GLz"},GkxD:function(n,t,l){function e(n){var t=o[n];return t?l.e(t[1]).then(function(){return l(t[0])}):Promise.reject(Error("Cannot find module '"+n+"'."))}var o={"./de.json":["B4A8","de.json"],"./en.json":["UpdR","en.json"],"./fr.json":["FiWC","fr.json"]};e.keys=function(){return Object.keys(o)},e.id="GkxD",n.exports=e},x35b:function(n,t,l){"use strict";function e(){var n=location.search;return n?(/^[?#]/.test(n)?n.slice(1):n).split("&").reduce(function(n,t){var l=t.split("="),e=l[0],o=l[1];return n[e]=o?decodeURIComponent(o.replace(/\+/g," ")):"",n},{}):{}}function o(){return Object.assign({lang:ln.lang,botLabel:ln.botLabel,botName:ln.botName,botEnvironment:ln.botEnvironment,chatEndpoint:ln.chatEndpoint,availableEndpoint:ln.availableEndpoint,checkAvailability:ln.production,opened:ln.opened,localStoragePrefix:ln.localStoragePrefix},window.BOT_WEB_INTERFACE_SETTINGS,e())}function i(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"div",[["class","message-body outgoing"]],null,null,null,null,null)),(n()(),tn._28(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.text)})}function u(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,0,"div",[["class","message-body incoming"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,t){n(t,0,0,t.component.text)})}function a(n){return tn._30(0,[(n()(),tn._3(16777216,null,null,1,null,i)),tn._7(1,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._3(16777216,null,null,1,null,u)),tn._7(4,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._9(6,0,null,null,0,"div",[["class","clear"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.text&&l.isOutgoing),n(t,4,0,l.text&&!l.isOutgoing)},null)}function s(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-message-bubble",[],null,null,null,a,wn)),tn._7(1,114688,null,0,yn,[],null,null)],function(n,t){n(t,1,0)},null)}function r(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,7,"div",[["class","message-footer"]],[[8,"hidden",0]],null,null,null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(2,0,null,null,2,"div",[["class","pin"]],null,null,null,null,null)),tn._7(3,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(4,{outgoing:0}),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(6,0,null,null,0,"div",[["class","clear"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._9(9,0,null,null,0,"div",[["class","clear no-tail"]],[[8,"hidden",0]],null,null,null,null)),(n()(),tn._28(-1,null,["\n"]))],function(n,t){n(t,3,0,"pin",n(t,4,0,t.component.isOutgoing))},function(n,t){var l=t.component;n(t,0,0,l.hideTail),n(t,9,0,!l.hideTail)})}function c(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-message-footer",[],null,null,null,r,jn)),tn._7(1,49152,null,0,vn,[],null,null)],null,null)}function p(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,5,"div",[["class","typing-indicator"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(2,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),tn._9(3,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),tn._9(4,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._9(7,0,null,null,1,"app-message-footer",[],null,null,null,r,jn)),tn._7(8,49152,null,0,vn,[],{isOutgoing:[0,"isOutgoing"],hideTail:[1,"hideTail"]},null),(n()(),tn._28(-1,null,["\n"]))],function(n,t){n(t,8,0,!1,!1)},null)}function g(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-typing-indicator",[],null,null,null,p,Nn)),tn._7(1,49152,null,0,Sn,[],null,null)],null,null)}function d(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,5,"div",[],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.buttonWasClicked()&&e}return e},null,null)),tn._7(1,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(2,{spaced:0}),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(4,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,tn._12(1,"",l.style,""),n(t,2,0,l.spaced))},function(n,t){n(t,4,0,t.component.title)})}function h(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-payload-button",[],null,null,null,d,Gn)),tn._7(1,49152,null,0,zn,[sn],null,null)],null,null)}function f(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,3,"app-payload-button",[],null,null,null,d,Gn)),tn._7(1,737280,null,0,Qn.a,[Bn.a,tn.k,tn.G,[3,Rn.b],[3,Zn.a]],{flex:[0,"flex"]},null),tn._7(2,49152,null,0,zn,[sn],{title:[0,"title"],rawData:[1,"rawData"],style:[2,"style"],spaced:[3,"spaced"]},null),(n()(),tn._28(-1,null,["\n    "]))],function(n,t){var l=t.component;n(t,1,0,l.isHalf(t.context.$implicit)?"49%":"100%");n(t,2,0,l.transform(t.context.$implicit.text),t.context.$implicit,"btn-primary",!0)},null)}function _(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,5,"div",[["class","force-hiding-button"]],[[8,"hidden",0]],[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!=(o.forceHiding=!o.forceHiding)&&e}return e},null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(2,0,null,null,2,"i",[["class","fa fa-2x"]],null,null,null,null,null)),tn._7(3,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(4,{"fa-angle-down":0,"fa-angle-up":1}),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._9(7,0,null,null,10,"div",[["class","payloads-container-host"]],[[24,"@toggle",0]],[[null,"@toggle.start"],[null,"@toggle.done"]],function(n,t,l){var e=!0,o=n.component;if("@toggle.start"===t){e=!1!=(o.animationInProgress=!0)&&e}if("@toggle.done"===t){e=!1!=(o.animationInProgress=!1)&&e}return e},null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(9,0,null,null,7,"div",[["class","payloads-container"],["fxLayout","row"],["fxLayoutAlign","space-between center"],["fxLayoutWrap",""]],[[8,"hidden",0]],null,null,null,null)),tn._7(10,737280,null,0,Rn.b,[Bn.a,tn.k,tn.G],{layout:[0,"layout"]},null),tn._7(11,737280,null,0,Zn.a,[Bn.a,tn.k,tn.G,[2,Rn.b]],{wrap:[0,"wrap"]},null),tn._7(12,737280,null,0,An.a,[Bn.a,tn.k,tn.G,[2,Rn.b]],{align:[0,"align"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._3(16777216,null,null,1,null,f)),tn._7(15,802816,null,0,Mn.d,[tn.R,tn.O,tn.t],{ngForOf:[0,"ngForOf"]},null),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,"fa fa-2x",n(t,4,0,l.animationInProgress||!l.forceHiding,!l.animationInProgress&&l.forceHiding));n(t,10,0,"row");n(t,11,0,"");n(t,12,0,"space-between center"),n(t,15,0,l.tempSuggestions)},function(n,t){var l=t.component;n(t,0,0,!(l.suggestions&&l.suggestions.length||l.animationInProgress)),n(t,7,0,l.suggestions&&l.suggestions.length&&!l.forceHiding?"showPayloads":"hidePayloads"),n(t,9,0,!l.tempSuggestions.length)})}function m(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-payload-buttons-container",[],null,null,null,_,Wn)),tn._7(1,573440,null,0,Hn,[],null,null)],null,null)}function b(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),tn._28(1,null,["",""]))],null,function(n,t){var l=t.component;n(t,0,0,tn._12(1,"",l.url,"")),n(t,1,0,l.url)})}function x(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,10,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(2,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),tn._28(3,null,["",""])),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._3(16777216,null,null,1,null,b)),tn._7(6,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(8,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),tn._28(9,null,["",""])),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"]))],function(n,t){n(t,6,0,t.component.url)},function(n,t){var l=t.component;n(t,0,0,tn._12(1,"",l.class,"")),n(t,3,0,l.title),n(t,9,0,l.description)})}function M(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-text-box",[],null,null,null,x,tt)),tn._7(1,49152,null,0,$n,[tn.r],null,null)],null,null)}function y(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,4,"div",[["class","actions"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n\t"])),(n()(),tn._9(2,0,null,null,1,"app-payload-button",[],null,null,null,d,Gn)),tn._7(3,49152,null,0,zn,[sn],{title:[0,"title"],rawData:[1,"rawData"],style:[2,"style"]},null),(n()(),tn._28(-1,null,["\n  "]))],function(n,t){n(t,3,0,t.context.$implicit.title,t.context.$implicit.payload,"btn-secondary")},null)}function C(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,15,"div",[["class","card message-body"],["fxLayout","column"]],null,null,null,null,null)),tn._7(1,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(2,{"fixed-width":0}),tn._7(3,737280,null,0,Rn.b,[Bn.a,tn.k,tn.G],{layout:[0,"layout"]},null),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(5,0,null,null,2,"div",[["class","card-image"]],null,null,null,null,null)),tn._7(6,278528,null,0,Mn.h,[tn.u,tn.k,tn.G],{ngStyle:[0,"ngStyle"]},null),tn._24(7,{"background-image":0}),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(9,0,null,null,2,"app-text-box",[["fxFlex",""]],null,null,null,x,tt)),tn._7(10,737280,null,0,Qn.a,[Bn.a,tn.k,tn.G,[3,Rn.b],[3,Zn.a]],{flex:[0,"flex"]},null),tn._7(11,49152,null,0,$n,[tn.r],{title:[0,"title"],description:[1,"description"],class:[2,"class"]},null),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._3(16777216,null,null,1,null,y)),tn._7(14,802816,null,0,Mn.d,[tn.R,tn.O,tn.t],{ngForOf:[0,"ngForOf"]},null),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"card message-body",n(t,2,0,l.fixedWidth));n(t,3,0,"column"),n(t,6,0,n(t,7,0,"url("+l.card.image_url+")"));n(t,10,0,"");n(t,11,0,l.card.title,l.card.subtitle,"text-default"),n(t,14,0,l.card.buttons)},null)}function w(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-card",[],null,null,null,C,it)),tn._7(1,49152,null,0,et,[],null,null)],null,null)}function I(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,4,"div",[["class","slide"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(2,0,null,null,1,"app-card",[],null,null,null,C,it)),tn._7(3,49152,null,0,et,[],{card:[0,"card"],fixedWidth:[1,"fixedWidth"]},null),(n()(),tn._28(-1,null,["\n      "]))],function(n,t){n(t,3,0,t.context.$implicit,!0)},null)}function P(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,11,"div",[["class","controls"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(2,0,null,null,3,"span",[["class","nav-button"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.scroll(!1,tn._22(n.parent,4))&&e}return e},null,null)),tn._7(3,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(4,{disabled:0}),(n()(),tn._9(5,0,null,null,0,"i",[["class","fa fa-fw fa-chevron-left"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(7,0,null,null,3,"span",[["class","nav-button"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.scroll(!0,tn._22(n.parent,4))&&e}return e},null,null)),tn._7(8,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(9,{disabled:0}),(n()(),tn._9(10,0,null,null,0,"i",[["class","fa fa-fw fa-chevron-right"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n  "]))],function(n,t){var l=t.component;n(t,3,0,"nav-button",n(t,4,0,l.amount>=0));n(t,8,0,"nav-button",n(t,9,0,l.amount<=0-(tn._22(t.parent,4).scrollWidth-tn._22(t.parent,2).offsetWidth)))},null)}function O(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,13,"div",[["class","carousel-container noselect"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(2,0,[["wrapper",1]],null,7,"div",[["class","carousel-wrapper"]],null,[[null,"mousedown"],[null,"touchstart"],[null,"mousemove"],[null,"touchmove"],[null,"mouseup"],[null,"mouseleave"],[null,"touchend"]],function(n,t,l){var e=!0,o=n.component;if("mousedown"===t){e=!1!==o.onMousedown(l)&&e}if("touchstart"===t){e=!1!==o.onTouchdown(l)&&e}if("mousemove"===t){e=!1!==o.onMousemove(l,tn._22(n,4).scrollWidth,tn._22(n,2).offsetWidth)&&e}if("touchmove"===t){e=!1!==o.onTouchmove(l,tn._22(n,4).scrollWidth,tn._22(n,2).offsetWidth)&&e}if("mouseup"===t){e=!1!==o.onMouseup(l,tn._22(n,4))&&e}if("mouseleave"===t){e=!1!==o.onMouseup(l,tn._22(n,4))&&e}if("touchend"===t){e=!1!==o.onTouchup(l,tn._22(n,4))&&e}return e},null,null)),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(4,0,[["list",1]],null,4,"div",[["class","carousel"]],[[1,"startPress",0],[4,"transition",null],[4,"webkitTransition",null],[4,"transform",null],[4,"webkitTransform",null]],null,null,null,null)),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._3(16777216,null,null,1,null,I)),tn._7(7,802816,null,0,Mn.d,[tn.R,tn.O,tn.t],{ngForOf:[0,"ngForOf"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._3(16777216,null,null,1,null,P)),tn._7(12,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,7,0,l.cards),n(t,12,0,l.showButtons())},function(n,t){var l=t.component;n(t,4,0,l.startPress,l.startPress>0?"none":"-webkit-transform 1s",l.startPress>0?"none":"-webkit-transform 1s","translateX("+l.amount+"px)","translateX("+l.amount+"px)")})}function v(n){return tn._30(0,[(n()(),tn._3(16777216,null,null,1,null,O)),tn._7(1,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n"]))],function(n,t){n(t,1,0,t.component.cards)},null)}function k(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-carousel",[],null,null,null,v,rt)),tn._7(1,245760,null,0,at,[],null,null)],function(n,t){n(t,1,0)},null)}function j(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,0,"img",[["class","card-image"]],[[8,"src",4]],null,null,null,null)),(n()(),tn._28(-1,null,["\n"]))],null,function(n,t){n(t,0,0,t.component.content.url)})}function S(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-image",[],null,null,null,j,ht)),tn._7(1,49152,null,0,gt,[],null,null)],null,null)}function L(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,0,"iframe",[["allowfullscreen",""],["frameborder","0"],["height","100%"],["width","100%"]],[[8,"src",5]],null,null,null,null)),(n()(),tn._28(-1,null,["\n"]))],null,function(n,t){n(t,0,0,t.component.safeUrl)})}function N(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-iframe",[],null,null,null,L,Mt)),tn._7(1,114688,null,0,bt,[mt.c],null,null)],function(n,t){n(t,1,0)},null)}function T(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-message-bubble",[],null,null,null,a,wn)),tn._7(1,114688,null,0,yn,[],{content:[0,"content"],isOutgoing:[1,"isOutgoing"]},null)],function(n,t){var l=t.component;n(t,1,0,l.message.content,l.isOutgoing)},null)}function D(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-carousel",[],null,null,null,v,rt)),tn._7(1,245760,null,0,at,[],{content:[0,"content"]},null)],function(n,t){n(t,1,0,t.component.message.content)},null)}function z(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-image",[],null,null,null,j,ht)),tn._7(1,49152,null,0,gt,[],{content:[0,"content"]},null)],function(n,t){n(t,1,0,t.component.message.content)},null)}function E(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-iframe",[],null,null,null,L,Mt)),tn._7(1,114688,null,0,bt,[mt.c],{content:[0,"content"]},null)],function(n,t){n(t,1,0,t.component.message.content)},null)}function G(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,18,"span",[["class","message-wrapper"]],null,null,null,null,null)),tn._7(1,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(2,{outgoing:0}),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(4,0,null,null,13,"span",[["class","message-body-wrapper"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._3(16777216,null,null,1,null,T)),tn._7(7,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._3(16777216,null,null,1,null,D)),tn._7(10,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._3(16777216,null,null,1,null,z)),tn._7(13,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._3(16777216,null,null,1,null,E)),tn._7(16,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,"message-wrapper",n(t,2,0,l.isOutgoing)),n(t,7,0,"text"===l.message.content_type),n(t,10,0,"carousel"===l.message.content_type),n(t,13,0,"image"===l.message.content_type),n(t,16,0,"video"===l.message.content_type)},null)}function Y(n){return tn._30(0,[(n()(),tn._3(16777216,null,null,1,null,G)),tn._7(1,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._9(3,0,null,null,1,"app-message-footer",[],null,null,null,r,jn)),tn._7(4,49152,null,0,vn,[],{isOutgoing:[0,"isOutgoing"],hideTail:[1,"hideTail"]},null),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,1,0,l.message),n(t,4,0,l.isOutgoing,l.message.hideTail||"text"!==l.message.content_type)},null)}function J(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-message-wrapper",[],null,null,null,Y,wt)),tn._7(1,49152,null,0,yt,[],null,null)],null,null)}function Q(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._9(2,0,null,null,1,"app-message-wrapper",[],null,null,null,Y,wt)),tn._7(3,49152,null,0,yt,[],{message:[0,"message"]},null),(n()(),tn._28(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.context.$implicit)},null)}function B(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._9(2,0,null,null,1,"app-message-wrapper",[],null,null,null,Y,wt)),tn._7(3,49152,null,0,yt,[],{message:[0,"message"]},null),(n()(),tn._28(-1,null,["\n    "]))],function(n,t){n(t,3,0,t.component.temp_message)},null)}function R(n){return tn._30(0,[tn._26(402653184,1,{autoScroll:0}),(n()(),tn._9(1,0,null,null,22,"div",[["class","chat-container"],["fxFlex",""],["fxLayout","column"]],null,null,null,null,null)),tn._7(2,737280,null,0,Rn.b,[Bn.a,tn.k,tn.G],{layout:[0,"layout"]},null),tn._7(3,737280,null,0,Qn.a,[Bn.a,tn.k,tn.G,[3,Rn.b],[3,Zn.a]],{flex:[0,"flex"]},null),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(5,0,null,null,14,"div",[["appAutoScroll",""],["class","message-container"],["fxFlex",""]],null,null,null,null,null)),tn._7(6,737280,null,0,Qn.a,[Bn.a,tn.k,tn.G,[3,Rn.b],[3,Zn.a]],{flex:[0,"flex"]},null),tn._7(7,212992,[[1,4]],0,St,[tn.k,jt.b],null,null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._3(16777216,null,null,1,null,Q)),tn._7(10,802816,null,0,Mn.d,[tn.R,tn.O,tn.t],{ngForOf:[0,"ngForOf"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._3(16777216,null,null,1,null,B)),tn._7(13,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(15,0,null,null,1,"app-typing-indicator",[],[[8,"hidden",0]],null,null,p,Nn)),tn._7(16,49152,null,0,Sn,[],null,null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(18,0,null,null,0,"div",[["id","bottom"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(21,0,null,null,1,"app-payload-buttons-container",[],null,null,null,_,Wn)),tn._7(22,573440,null,0,Hn,[],{suggestions:[0,"suggestions"]},null),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,2,0,"column");n(t,3,0,"");n(t,6,0,""),n(t,7,0),n(t,10,0,l.messages),n(t,13,0,l.temp_message&&l.isTyping),n(t,22,0,l.suggestions)},function(n,t){n(t,15,0,!t.component.isTyping)})}function Z(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-messages-container",[],null,null,null,R,Tt)),tn._7(1,114688,null,0,Lt,[rn,cn],null,null)],function(n,t){n(t,1,0)},null)}function H(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-paper-plane"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.sendMessage()&&e}return e},null,null))],null,null)}function A(n){return tn._30(0,[tn._26(402653184,1,{textarea:0}),(n()(),tn._9(1,0,null,null,13,"div",[["class","user-input-wrapper"]],null,null,null,null,null)),tn._7(2,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(3,{"hide-scrollbar":0}),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(5,0,[[1,0],["textarea",1]],null,8,"textarea",[["autosize",""],["rows","1"],["tabindex","0"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var e=!0,o=n.component;if("input"===t){e=!1!==tn._22(n,6)._handleInput(l.target.value)&&e}if("blur"===t){e=!1!==tn._22(n,6).onTouched()&&e}if("compositionstart"===t){e=!1!==tn._22(n,6)._compositionStart()&&e}if("compositionend"===t){e=!1!==tn._22(n,6)._compositionEnd(l.target.value)&&e}if("input"===t){e=!1!==tn._22(n,11).onInput(l.target)&&e}if("ngModelChange"===t){e=!1!==(o.model=l)&&e}if("keydown.enter"===t){o.sendMessage();e=!1!==l.preventDefault()&&e}return e},null,null)),tn._7(6,16384,null,0,Gt.b,[tn.H,tn.k,[2,Gt.a]],null,null),tn._25(1024,null,Gt.d,function(n){return[n]},[Gt.b]),tn._7(8,671744,null,0,Gt.g,[[8,null],[8,null],[8,null],[2,Gt.d]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),tn._25(2048,null,Gt.e,null,[Gt.g]),tn._7(10,16384,null,0,Gt.f,[Gt.e],null,null),tn._7(11,2113536,null,0,Yt.a,[tn.k],null,null),tn._23(131072,Ot.a,[vt.a,tn.g]),(n()(),tn._28(-1,null,["    "])),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._28(-1,null,["\n"])),(n()(),tn._3(16777216,null,null,1,null,H)),tn._7(17,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,2,0,"user-input-wrapper",n(t,3,0,0===l.model.length)),n(t,8,0,l.isTyping,l.model),n(t,17,0,l.model.length>0)},function(n,t){n(t,5,0,tn._29(t,5,0,tn._22(t,12).transform("bot.input.placeholder")),tn._22(t,10).ngClassUntouched,tn._22(t,10).ngClassTouched,tn._22(t,10).ngClassPristine,tn._22(t,10).ngClassDirty,tn._22(t,10).ngClassValid,tn._22(t,10).ngClassInvalid,tn._22(t,10).ngClassPending)})}function U(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-user-input",[],null,null,null,A,Qt)),tn._7(1,114688,null,0,Et,[sn,cn,tn.k],null,null)],function(n,t){n(t,1,0)},null)}function W(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,0,"i",[["class","fa fa-fw fa-chevron-down"]],null,null,null,null,null))],null,null)}function F(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,19,null,null,null,null,null,null,null)),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(2,0,null,null,3,"div",[["class","header-logo"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n          "])),(n()(),tn._9(4,0,null,null,0,"div",[["class","bot-icon-img"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(7,0,null,null,0,"div",[["class","header-online-pin"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(9,0,null,null,9,"div",[["class","header-label"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n          "])),(n()(),tn._9(11,0,null,null,3,"div",[["class","header-open-label"]],null,null,null,null,null)),(n()(),tn._28(12,null,["",""])),tn._24(13,{botLabel:0}),tn._23(131072,Ot.a,[vt.a,tn.g]),(n()(),tn._28(-1,null,["\n          "])),(n()(),tn._3(16777216,null,null,1,null,W)),tn._7(17,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._28(-1,null,["\n      "]))],function(n,t){n(t,17,0,!t.component.forceOpen)},function(n,t){var l=t.component;n(t,12,0,tn._29(t,12,0,tn._22(t,14).transform("bot.header.open",n(t,13,0,l.botLabel))))})}function X(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(2,0,null,null,2,"div",[["class","header-close-label"]],null,null,null,null,null)),(n()(),tn._28(3,null,["",""])),tn._23(131072,Ot.a,[vt.a,tn.g]),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(6,0,null,null,0,"i",[["class","fa fa-fw fa-chevron-up"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n      "]))],null,function(n,t){n(t,3,0,tn._29(t,3,0,tn._22(t,4).transform("bot.header.closed")))})}function V(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,12,"div",[["class","help-button-mobile"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.toggleChat()&&e}return e},null,null)),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(2,0,null,null,2,"div",[["class","help-button-label"]],null,null,null,null,null)),(n()(),tn._28(3,null,["",""])),tn._23(131072,Ot.a,[vt.a,tn.g]),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(6,0,null,null,0,"div",[["class","help-button-pin"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(8,0,null,null,3,"div",[["class","help-button-container"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._9(10,0,null,null,0,"div",[["class","bot-icon-img"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._28(-1,null,["\n  "]))],null,function(n,t){n(t,3,0,tn._29(t,3,0,tn._22(t,4).transform("bot.mobile.help")))})}function K(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,50,"div",[["class","illuin-bot-app"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._9(2,0,null,null,44,"div",[["class","chat-box"],["fxLayout","column"]],null,null,null,null,null)),tn._7(3,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(4,{"chat-box-closed":0,"helper-open":1}),tn._7(5,737280,null,0,Rn.b,[Bn.a,tn.k,tn.G],{layout:[0,"layout"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(7,0,null,null,9,"div",[["class","header"]],[[8,"hidden",0]],[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.toggleChat()&&e}return e},null,null)),tn._7(8,278528,null,0,Mn.c,[tn.t,tn.u,tn.k,tn.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),tn._24(9,{disabled:0}),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._3(16777216,null,null,1,null,F)),tn._7(12,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._3(16777216,null,null,1,null,X)),tn._7(15,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(18,0,null,null,12,"div",[["class","need-help-placeholder"]],[[8,"hidden",0]],null,null,null,null)),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._9(20,0,null,null,9,"div",[["class","help-header"]],null,null,null,null,null)),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(22,0,null,null,0,"div",[["class","bot-icon-img"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.openHeader()&&e}return e},null,null)),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(24,0,null,null,2,"div",[["class","help-header-label"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.openHeader()&&e}return e},null,null)),(n()(),tn._28(25,null,["\n          ","\n        "])),tn._23(131072,Ot.a,[vt.a,tn.g]),(n()(),tn._28(-1,null,["\n        "])),(n()(),tn._9(28,0,null,null,0,"i",[["class","fa fa-fw fa-chevron-down"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.closeHeader()&&e}return e},null,null)),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(32,0,null,null,2,"app-messages-container",[["fxFlex",""]],[[8,"hidden",0]],null,null,R,Tt)),tn._7(33,737280,null,0,Qn.a,[Bn.a,tn.k,tn.G,[3,Rn.b],[3,Zn.a]],{flex:[0,"flex"]},null),tn._7(34,114688,null,0,Lt,[rn,cn],null,null),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(36,0,null,null,2,"app-user-input",[],[[8,"hidden",0]],[[null,"validate"]],function(n,t,l){var e=!0,o=n.component;if("validate"===t){e=!1!==o.emitNewUserMessage(l)&&e}return e},A,Qt)),tn._7(37,114688,null,0,Et,[sn,cn,tn.k],{toggle:[0,"toggle"]},{validate:"validate"}),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._9(40,0,null,null,5,"div",[["class","help-footer"]],[[8,"hidden",0]],null,null,null,null)),(n()(),tn._28(-1,null,["\n      "])),(n()(),tn._9(42,0,null,null,2,"div",[["class","help-start"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.openHeader()&&e}return e},null,null)),(n()(),tn._28(43,null,["\n        ","\n      "])),tn._23(131072,Ot.a,[vt.a,tn.g]),(n()(),tn._28(-1,null,["\n    "])),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._28(-1,null,["\n  "])),(n()(),tn._3(16777216,null,null,1,null,V)),tn._7(49,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n"]))],function(n,t){var l=t.component;n(t,3,0,"chat-box",n(t,4,0,l.chatIsClosed,l.showHelper));n(t,5,0,"column");n(t,8,0,"header",n(t,9,0,l.forceOpen)),n(t,12,0,!l.chatIsClosed),n(t,15,0,l.chatIsClosed);n(t,33,0,""),n(t,34,0),n(t,37,0,l.chatIsClosedSubject),n(t,49,0,l.chatIsClosed)},function(n,t){var l=t.component;n(t,7,0,l.chatIsClosed&&l.showHelper),n(t,18,0,!l.showHelper),n(t,25,0,tn._29(t,25,0,tn._22(t,26).transform("bot.helper.header"))),n(t,32,0,l.chatIsClosed),n(t,36,0,l.chatIsClosed),n(t,40,0,!l.showHelper),n(t,43,0,tn._29(t,43,0,tn._22(t,44).transform("bot.helper.footer")))})}function q(n){return tn._30(0,[(n()(),tn._3(16777216,null,null,1,null,K)),tn._7(1,16384,null,0,Mn.e,[tn.R,tn.O],{ngIf:[0,"ngIf"]},null),(n()(),tn._28(-1,null,["\n\n"]))],function(n,t){n(t,1,0,t.component.available)},null)}function $(n){return tn._30(0,[(n()(),tn._9(0,0,null,null,1,"app-root",[],null,null,null,q,Rt)),tn._7(1,4243456,null,0,bn,[hn,vt.a,_n.e,tn.g,on],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var nn,tn=l("3j3K"),ln={production:!0,lang:"fr",botLabel:"Léonard",botName:"",botEnvironment:"prod",availableEndpoint:"/JavaHookServer/api/v1/info/maintenance",chatEndpoint:"/JavaHookServer/api/v1/webhook/chat/",opened:!1,localStoragePrefix:""},en=(l("6Yye"),l("EnA3"),l("wUn1"),l("tDJK"),l("+pb+"),l("EGMK"),l("HcJ8"),l("UNGF"),l("10Gq"),l("uCY4"),function(){function n(){}return n}()),on=new tn.q("app.config"),un=l("/OZq"),an=l("TfWX"),sn=function(){function n(){this.clickedSuggestion=new an.BehaviorSubject(null)}return n.prototype.declareClickedSuggestion=function(n,t,l){l.text=n,this.clickedSuggestion.next({text:n,type:t,payload:l})},n}(),rn=function(){function n(n){this.suggestions=null,this.messages=[],this.temp_message=null,this.suggestions=[]}return n.prototype.create=function(n,t){void 0===t&&(t=!1),this.temp_message=null,this.suggestions=[],n.content&&("postback"===n.content_type&&(n={content_type:"text",content:{value:n.content.text},isOutgoing:!0}),("text"!==n.content_type||n.content.value)&&(n.content.suggestions&&(this.suggestions=n.content.suggestions||[]),t?(this.temp_message=n,n.isOutgoing=!0):(this.lastMessage&&n.isOutgoing===this.lastMessage.isOutgoing&&(this.lastMessage.hideTail=!0),this.messages.push(n))))},Object.defineProperty(n.prototype,"lastMessage",{get:function(){return this.messages.length?this.messages[this.messages.length-1]:null},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:un.IAppConfig,decorators:[{type:tn.o,args:[on]}]}]},n}(),cn=function(){function n(){this.isTypingSubject=new an.BehaviorSubject(!1)}return Object.defineProperty(n.prototype,"isTyping",{get:function(){return this.isTypingSubject.getValue()},enumerable:!0,configurable:!0}),n.prototype.show=function(){this.isTypingSubject.next(!0)},n.prototype.hide=function(){this.isTypingSubject.next(!1)},n}(),pn=function(){function n(){}return n.prototype.createMessageText=function(n){return{content_type:"text",content:{value:n}}},n.prototype.createClickedSuggestion=function(n){return{content_type:"postback",content:n.payload}},n}(),gn=function(){function n(n){this.sendingNewMessages=!1,this.botName=n.botName,this.botEnvironment=n.botEnvironment}return n.prototype.wrapExtraData=function(n,t){return n.extra={url:window.location.href,conversation_id:t},n},n.ctorParameters=function(){return[{type:un.IAppConfig,decorators:[{type:tn.o,args:[on]}]}]},n}(),dn=l("S316");!function(n){n.open="open",n.collapsed="collapsed"}(nn||(nn={}));var hn=function(){function n(n,t,l,e,o,i,u){this.socketService=n,this.serverMessageFactory=t,this.messageFactory=l,this.typingIndicator=e,this.suggestionService=o,this.storageService=i,this.unread=0,this.alreadyReceivedSomething=!1,this._init=!1,this.isBotOpenKey=u.localStoragePrefix+u.botName+u.botEnvironment+"botState"}return n.prototype.sendUserMessage=function(n){this._sendServerMessage(this.serverMessageFactory.createMessageText(n))},n.prototype.sendSuggestion=function(n){this._sendServerMessage(this.serverMessageFactory.createClickedSuggestion(n))},n.prototype._sendServerMessage=function(n){this.messageFactory.create(n,!0),this.socketService.send(n)},n.prototype.hasUserClickedOnce=function(){return!!this.storageService.get(this.isBotOpenKey)},n.prototype.setBotState=function(n){this.storageService.set(this.isBotOpenKey,n)},n.prototype.isBotOpen=function(){return this.storageService.get(this.isBotOpenKey)===nn.open},n.prototype.openBot=function(){this.setBotState(nn.open)},n.prototype.closeBot=function(){this.setBotState(nn.collapsed)},n.prototype.toggleBot=function(){return this.isBotOpen()?this.closeBot():this.openBot()},n.prototype.init=function(){var n=this;this._init||(this._init=!0,this.suggestionService.clickedSuggestion.subscribe(function(t){t&&n.sendSuggestion(t)}),this.socketService.get().subscribe(function(t){n.alreadyReceivedSomething=!0,"typing_on"===t.content_type?n.typingIndicator.show():"typing_off"===t.content_type?n.typingIndicator.hide():"error"===t.content_type?console.error(t.content):n.messageFactory.create(t)},function(n){console.error(n)}))},n.ctorParameters=function(){return[{type:gn},{type:pn},{type:rn},{type:cn},{type:sn},{type:dn.a},{type:un.IAppConfig,decorators:[{type:tn.o,args:[on]}]}]},n}(),fn=l("EEr4"),_n=l("Fzro"),mn=l("8A5H"),bn=function(){function n(n,t,l,e,o){var i=this;this.chatService=n,this.translateService=t,this.http=l,this.cd=e,this.chatIsClosedSubject=new fn.Subject,this.available=!1,this.checkAvailability=!1,this.forceOpen=!1,this.translateService.use(o.lang),this.checkAvailability=o.checkAvailability,this.checkAvailability?l.get(o.availableEndpoint).subscribe(function(n){i.available=!1===n.json().in_maintenance}):this.available=!0,this.botLabel=o.botLabel,this.forceOpen=o.opened,this.forceOpen?this.openHeader():this.chatIsClosed||this.chatService.init()}return n.prototype.ngAfterViewInit=function(){this.cd.detectChanges()},Object.defineProperty(n.prototype,"chatIsClosed",{get:function(){return!this.chatService.isBotOpen()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showHelper",{get:function(){return!this.chatService.hasUserClickedOnce()},enumerable:!0,configurable:!0}),n.prototype.emitNewUserMessage=function(n){this.chatService.sendUserMessage(n)},n.prototype.toggleChat=function(){this.forceOpen||(this.chatService.toggleBot(),this.chatIsClosedSubject.next(this.chatIsClosed),this.chatService.unread=0,this.chatService.init())},n.prototype.openHeader=function(){this.chatService.openBot(),this.chatIsClosedSubject.next(this.chatIsClosed),this.chatService.init()},n.prototype.closeHeader=function(){this.chatService.closeBot()},n.ctorParameters=function(){return[{type:hn},{type:mn.b},{type:_n.e},{type:tn.g},{type:un.IAppConfig,decorators:[{type:tn.o,args:[on]}]}]},n}(),xn=[".message-body[_ngicontent-%COMP%]{font-size:14px;word-break:keep-all;word-wrap:break-word;white-space:pre-line;padding:10px;line-height:1.2em;position:relative}.message-body[_ngicontent-%COMP%]   a[_ngicontent-%COMP%]{color:#009adf;text-decoration:none}.message-body[_ngicontent-%COMP%]   a[_ngicontent-%COMP%]:hover{text-decoration:underline}.message-body.outgoing[_ngicontent-%COMP%]{color:#fff;background:#009adf;border:0;float:right;border-radius:0 0 0 0}.message-body.incoming[_ngicontent-%COMP%]{color:#000;background:#fff;border:0;float:left;border-radius:0 0 0 0}.clear[_ngicontent-%COMP%]{clear:both}"],Mn=l("2Je8"),yn=function(){function n(){}return n.prototype.ngOnInit=function(){this.text=this.content.text||this.content.value},n}(),Cn=[xn],wn=tn._6({encapsulation:0,styles:Cn,data:{}}),In=tn._4("app-message-bubble",yn,s,{content:"content",isOutgoing:"isOutgoing"},{},[]),Pn=[".typing-indicator[_ngicontent-%COMP%]{background-color:#fff;will-change:transform;width:auto;border-radius:0 0 0 0;padding:22px 15px 15px 15px;border:0;display:table;position:relative;-webkit-animation:2s bulge infinite ease-out;animation:2s bulge infinite ease-out}.typing-indicator[_ngicontent-%COMP%]   span[_ngicontent-%COMP%]{height:8px;width:8px;float:left;margin:0 1px;background-color:#979797;display:block;border-radius:50%;opacity:.4}.typing-indicator[_ngicontent-%COMP%]   span[_ngicontent-%COMP%]:first-of-type{-webkit-animation:1s blink infinite .33333333s;animation:1s blink infinite .33333333s}.typing-indicator[_ngicontent-%COMP%]   span[_ngicontent-%COMP%]:nth-of-type(2){-webkit-animation:1s blink infinite .66666667s;animation:1s blink infinite .66666667s}.typing-indicator[_ngicontent-%COMP%]   span[_ngicontent-%COMP%]:nth-of-type(3){-webkit-animation:1s blink infinite 1s;animation:1s blink infinite 1s}@-webkit-keyframes blink{50%{opacity:1}}@keyframes blink{50%{opacity:1}}"],On=[".message-footer[_ngicontent-%COMP%]{margin-bottom:11px}.message-footer[_ngicontent-%COMP%]   .pin[_ngicontent-%COMP%]{width:0;height:0;border-style:solid;border-width:9px 9px 0 0;border-color:#fff transparent transparent transparent}.message-footer[_ngicontent-%COMP%]   .pin.outgoing[_ngicontent-%COMP%]{float:right;border-width:0 9px 9px 0;border-color:transparent #009adf transparent transparent}.message-footer[_ngicontent-%COMP%]   .clear[_ngicontent-%COMP%]{clear:both}.clear.no-tail[_ngicontent-%COMP%]{margin-bottom:7px}"],vn=function(){function n(){this.isOutgoing=!1,this.hideTail=!1}return n}(),kn=[On],jn=tn._6({encapsulation:0,styles:kn,data:{}}),Sn=(tn._4("app-message-footer",vn,c,{isOutgoing:"isOutgoing",hideTail:"hideTail"},{},[]),function(){function n(){}return n}()),Ln=[Pn],Nn=tn._6({encapsulation:0,styles:Ln,data:{}}),Tn=tn._4("app-typing-indicator",Sn,g,{},{},[]),Dn=["div[_ngicontent-%COMP%]{font-size:14px;line-height:1;cursor:pointer;text-align:center;padding:13px}.btn-primary[_ngicontent-%COMP%]{background-color:#009adf;color:#fff;border-color:#009adf}.btn-secondary[_ngicontent-%COMP%]{background-color:#fff;color:#009adf;border-color:#e7e7e7}.spaced[_ngicontent-%COMP%]{margin-bottom:10px;width:100%;border-radius:0;background-color:#0060a2;padding:8px 15px;display:inline-block;line-height:18px;color:#fff!important}.spaced[_ngicontent-%COMP%]:hover{background-color:#009adf}.spaced[_ngicontent-%COMP%]:active{background-color:#979797}"],zn=function(){function n(n){this.suggestionService=n,this.style="btn-primary",this.clickable=!0}return n.prototype.buttonWasClicked=function(){this.clickable&&this.suggestionService.declareClickedSuggestion(this.rawData.text||this.title,this.rawData.type,this.rawData)},n.ctorParameters=function(){return[{type:sn}]},n}(),En=[Dn],Gn=tn._6({encapsulation:0,styles:En,data:{}}),Yn=tn._4("app-payload-button",zn,h,{title:"title",rawData:"rawData",style:"style",spaced:"spaced",clickable:"clickable"},{},[]),Jn=["[_ngihost-%COMP%]{background-color:#fff}.force-hiding-button[_ngicontent-%COMP%]{cursor:pointer;position:relative;height:25px;overflow:hidden;text-align:center;box-shadow:0 -5px 15px -5px rgba(0,0,0,.5)}.force-hiding-button[_ngicontent-%COMP%]   .fa[_ngicontent-%COMP%]:before{position:absolute;color:#0060a2;font-size:34px;top:-5px;left:0;width:100%}.payloads-container-host[_ngicontent-%COMP%]{overflow:hidden}.payloads-container[_ngicontent-%COMP%]{padding:0 10px 0 10px;border-bottom:1px solid #c9c4c3}"],Qn=l("XVVf"),Bn=l("bWt6"),Rn=l("Sxsi"),Zn=l("jazq"),Hn=function(){function n(){this.suggestions=[],this.tempSuggestions=[],this.halfSuggestions=[],this.forceHiding=!1,this.animationInProgress=!1}return n.prototype.ngOnChanges=function(n){var t=this;n.suggestions&&n.suggestions.currentValue&&n.suggestions.currentValue.length&&(this.forceHiding=!1,this.tempSuggestions=n.suggestions.currentValue.slice(),this.halfSuggestions=this.tempSuggestions.filter(function(n){return/<i class="fa(?:[^"]*)"><\/i>/g.test(t.transform(n.text))}))},n.prototype.isHalf=function(n){var t=this.halfSuggestions.indexOf(n);return!(-1===t||t===this.halfSuggestions.length-1&&this.halfSuggestions.length%2)},n.prototype.transform=function(n){return n.replace("👍",'<i class="fa fa-thumbs-up"></i>').replace("👎",'<i class="fa fa-thumbs-down"></i>')},n}(),An=l("aDoP"),Un=[Jn],Wn=tn._6({encapsulation:0,styles:Un,data:{animation:[{type:7,name:"toggle",definitions:[{type:0,name:"showPayloads",styles:{type:6,styles:{"max-height":"400px"},offset:null},options:void 0},{type:0,name:"hidePayloads",styles:{type:6,styles:{"max-height":"0"},offset:null},options:void 0},{type:1,expr:"showPayloads => hidePayloads",animation:{type:4,styles:null,timings:"300ms ease-in-out"},options:null},{type:1,expr:"hidePayloads => showPayloads",animation:{type:4,styles:null,timings:"300ms ease-in-out"},options:null}],options:{}}]}}),Fn=tn._4("app-payload-buttons-container",Hn,m,{suggestions:"suggestions"},{},[]),Xn=[".message-body-wrapper{max-width:calc(100% - 10px)}.message-body-wrapper>*{overflow:inherit;margin-bottom:7px}.message-body-wrapper>:last-child{margin-bottom:0}.message-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.message-wrapper.outgoing{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"],Vn=[".carousel-container[_ngicontent-%COMP%]{position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:calc(100% + 20px)}.carousel-container[_ngicontent-%COMP%]   .carousel-wrapper[_ngicontent-%COMP%]{overflow:hidden;width:100%}.carousel-container[_ngicontent-%COMP%]   .carousel-wrapper[_ngicontent-%COMP%]   .carousel[_ngicontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-user-select:none;transition:transform 1s,-webkit-transform 1s}.carousel-container[_ngicontent-%COMP%]   .carousel-wrapper[_ngicontent-%COMP%]   .carousel[_ngicontent-%COMP%]   .slide[_ngicontent-%COMP%]{display:inline;margin-right:5px}.carousel-container[_ngicontent-%COMP%]   .controls[_ngicontent-%COMP%]{display:none}.carousel-container[_ngicontent-%COMP%]:hover   .controls[_ngicontent-%COMP%]{pointer-events:none;position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;top:58px;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.carousel-container[_ngicontent-%COMP%]:hover   .controls[_ngicontent-%COMP%]   .nav-button[_ngicontent-%COMP%]{pointer-events:all;cursor:pointer;background-color:#0060a2;color:#fff;width:40px;height:40px;text-align:center;font-size:16px;transition:background-color .1s ease-in-out}.carousel-container[_ngicontent-%COMP%]:hover   .controls[_ngicontent-%COMP%]   .nav-button[_ngicontent-%COMP%]   .fa[_ngicontent-%COMP%]{margin-top:12px}.carousel-container[_ngicontent-%COMP%]:hover   .controls[_ngicontent-%COMP%]   .nav-button.disabled[_ngicontent-%COMP%]{pointer-events:none;cursor:default;background-color:transparent;color:transparent;border-color:transparent}.carousel-container[_ngicontent-%COMP%]:hover   .controls[_ngicontent-%COMP%]   .nav-button[_ngicontent-%COMP%]:hover{background-color:#009adf}.carousel-container[_ngicontent-%COMP%]:hover   .controls[_ngicontent-%COMP%]   .nav-button[_ngicontent-%COMP%]:hover.disabled{background-color:transparent}.carousel-container[_ngicontent-%COMP%]:hover   .controls[_ngicontent-%COMP%]   .nav-button[_ngicontent-%COMP%]:active{background-color:#979797}"],Kn=[".card[_ngicontent-%COMP%]{overflow:hidden;background-color:#fff}.card.fixed-width[_ngicontent-%COMP%]{width:155px;height:100%}.card[_ngicontent-%COMP%]   .card-image[_ngicontent-%COMP%]{padding-bottom:115px;background-size:cover;background-position:50%;border-bottom:1px solid #c9c4c3}.card[_ngicontent-%COMP%]   .actions[_ngicontent-%COMP%]{border-top:1px solid #c9c4c3}"],qn=["div[_ngicontent-%COMP%]{padding:8px 8px 4px 8px}h4[_ngicontent-%COMP%]{font-size:14px;margin-bottom:5px;margin-top:5px;font-weight:700}h4[_ngicontent-%COMP%], p[_ngicontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}p[_ngicontent-%COMP%]{font-weight:200}a[_ngicontent-%COMP%], p[_ngicontent-%COMP%]{font-size:12px}a[_ngicontent-%COMP%]{color:inherit}.text-primary[_ngicontent-%COMP%]{background-color:#009adf;color:#fff;border-color:#009adf}.text-default[_ngicontent-%COMP%]{background-color:#fff;color:#000;border-color:#e7e7e7}"],$n=function(){function n(n){this.injector=n,this.class="text-primary",this.content=this.content||this.injector.get("content",{}),this.title=this.content.title,this.url=this.content.url,this.description=this.content.description}return n.ctorParameters=function(){return[{type:tn.r}]},n}(),nt=[qn],tt=tn._6({encapsulation:0,styles:nt,data:{}}),lt=tn._4("app-text-box",$n,M,{title:"title",url:"url",description:"description",class:"class"},{},[]),et=function(){function n(){this.fixedWidth=!1}return n}(),ot=[Kn],it=tn._6({encapsulation:0,styles:ot,data:{}}),ut=tn._4("app-card",et,w,{card:"card",fixedWidth:"fixedwidth"},{},[]),at=function(){function n(){this.childIndex=0,this.amount=0,this.startPress=0,this.lastX=0,this.direction=null,this.destroyed=!1}return n.prototype.ngOnInit=function(){this.cards=this.content.elements||[]},n.prototype.ngOnDestroy=function(){this.destroyed=!0},n.prototype.showButtons=function(){return this.cards.length>1},n.prototype.dragSlides=function(n,t,l){n>0||-(t-l)>n||(this.direction=n>this.amount?"left":"right",this.amount=n)},n.prototype.onMousedown=function(n){1===n.which&&(this.startPress=n.clientX,this.lastX=this.amount)},n.prototype.onTouchdown=function(n){0>navigator.userAgent.indexOf("Android")||n.preventDefault(),this.startPress=n.targetTouches[0].clientX,this.lastX=this.amount},n.prototype.onMousemove=function(n,t,l){if(1===n.which){this.dragSlides(this.lastX-(this.startPress-n.clientX),t,l)}},n.prototype.onTouchmove=function(n,t,l){0>navigator.userAgent.indexOf("Android")||n.preventDefault(),this.dragSlides(this.lastX-(this.startPress-n.targetTouches[0].clientX),t,l)},n.prototype.onMouseup=function(n,t){1===n.which&&this.snap(t)},n.prototype.onTouchup=function(n,t){0>navigator.userAgent.indexOf("Android")||n.preventDefault(),this.snap(t)},n.prototype.increaseCounter=function(n){var t=n.currentStyle||window.getComputedStyle(n);return n.offsetWidth+parseFloat(t.marginLeft)+parseFloat(t.marginRight)},n.prototype.snap=function(n){this.startPress=0;for(var t=0,l=0,e=-this.amount,o=0;this.cards.length>o;o++){if(t+=this.increaseCounter(n.children[o]),e>l&&t>=e)return void("right"===this.direction?(this.amount=-t,this.childIndex=o+1):(this.amount=l?-l:0,this.childIndex=o));l=t}return t},n.prototype.scroll=function(n,t){this.childIndex+=n?1:-1,this.amount=-this.calcScroll(t)},n.prototype.calcScroll=function(n){for(var t=0,l=this.childIndex-1;l>=0;l--)t+=this.increaseCounter(n.children[l]);return t||0},n}(),st=[Vn],rt=tn._6({encapsulation:0,styles:st,data:{}}),ct=tn._4("app-carousel",at,k,{content:"content"},{},[]),pt=[".card-image[_ngicontent-%COMP%]{width:100%;display:block}"],gt=function(){function n(){}return n}(),dt=[pt],ht=tn._6({encapsulation:0,styles:dt,data:{}}),ft=tn._4("app-image",gt,S,{content:"content"},{},[]),_t=["[_ngihost-%COMP%]{display:block;height:200px}iframe[_ngicontent-%COMP%]{background-color:#fff}"],mt=l("Qbdm"),bt=function(){function n(n){this.sanitizer=n}return n.prototype.ngOnInit=function(){this.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.content.url)},n.ctorParameters=function(){return[{type:mt.c}]},n}(),xt=[_t],Mt=tn._6({encapsulation:0,styles:xt,data:{}}),yt=(tn._4("app-iframe",bt,N,{content:"content"},{},[]),function(){function n(){}return Object.defineProperty(n.prototype,"isOutgoing",{get:function(){return this.message&&this.message.isOutgoing},enumerable:!0,configurable:!0}),n}()),Ct=[Xn],wt=tn._6({encapsulation:2,styles:Ct,data:{}}),It=tn._4("app-message-wrapper",yt,J,{message:"message"},{},[]),Pt=['.bot-icon-img[_ngicontent-%COMP%]:after{content:"";display:block;width:48px;height:48px;\n  background:transparent url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDY1IDY1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA2NSA2NSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJHdWlkZXMiPgo8L2c+CjxnIGlkPSJDYWxxdWVfMyI+Cgk8ZWxsaXBzZSBmaWxsPSIjRkZGRkZGIiBjeD0iMzIuNSIgY3k9IjMyLjQiIHJ4PSIzMS45IiByeT0iMzEuNCIvPgo8L2c+CjxnIGlkPSJhdmF0YXIiPgoJCgkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOTM5NTk4IiBzdHJva2Utd2lkdGg9IjMuMTM0OSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIzNSIgeTE9IjU3LjYiIHgyPSIzNSIgeTI9IjQ4LjkiLz4KCTxnPgoJCTxjaXJjbGUgZmlsbD0iIzYzNjM2MyIgY3g9IjMwLjEiIGN5PSIxOC40IiByPSI3LjIiLz4KCQk8Y2lyY2xlIGZpbGw9IiM2MzYzNjMiIGN4PSI0Ny44IiBjeT0iMzYuOCIgcj0iNiIvPgoJCTxjaXJjbGUgZmlsbD0iIzYzNjM2MyIgY3g9IjE3LjgiIGN5PSI0MC40IiByPSI2Ii8+CgkJCgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzkzOTU5OCIgc3Ryb2tlLXdpZHRoPSIxLjU2NzUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMjkuNCIgeTE9IjEyLjUiIHgyPSIyOC43IiB5Mj0iNi45Ii8+CgkJCgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzkzOTU5OCIgc3Ryb2tlLXdpZHRoPSIxLjU2NzUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMjMuNyIgeTE9IjcuMiIgeDI9IjMzLjYiIHkyPSI2Ii8+CgkJPGNpcmNsZSBmaWxsPSIjOTM5NTk4IiBjeD0iMjEuMSIgY3k9IjcuMiIgcj0iMi4zIi8+CgkJPGNpcmNsZSBmaWxsPSIjOTM5NTk4IiBjeD0iMzYiIGN5PSI1LjQiIHI9IjIuMyIvPgoJCTxnPgoJCQk8cG9seWdvbiBmaWxsPSIjNEM0QzRDIiBwb2ludHM9IjE5LjEsNDEuMyA0Ni44LDM4LjEgNDguMiw0OS42IDIwLjUsNTIuOSAJCQkiLz4KCQkJPHBhdGggZmlsbD0iIzdEN0Q3RCIgZD0iTTQ1LjcsMzkuNGwxLjEsOS4xbC0yNS4zLDNsLTEuMS05LjFMNDUuNywzOS40IE00Ni44LDM2LjljMCwwLTAuMSwwLTAuMSwwbC0yNy44LDMuMwoJCQkJYy0wLjYsMC4xLTEsMC42LTEsMS4ybDEuNCwxMS42YzAuMSwwLjYsMC41LDEsMS4xLDFjMCwwLDAuMSwwLDAuMSwwbDI3LjgtMy4zYzAuNi0wLjEsMS0wLjYsMS0xLjJsLTEuNC0xMS42CgkJCQlDNDcuOSwzNy4zLDQ3LjQsMzYuOSw0Ni44LDM2LjlMNDYuOCwzNi45eiIvPgoJCTwvZz4KCQk8cGF0aCBmaWxsPSIjN0Q3RDdEIiBkPSJNNDYuMSwzNy40bC0yNy43LDMuM2MtNS43LDAuNy0xMC45LTMuNC0xMS42LTkuMWwwLDBjLTAuNy01LjcsMy40LTEwLjksOS4xLTExLjZsMjcuNy0zLjMKCQkJYzUuNy0wLjcsMTAuOSwzLjQsMTEuNiw5LjFsMCwwQzU1LjksMzEuNSw1MS44LDM2LjcsNDYuMSwzNy40eiIvPgoJCTxjaXJjbGUgZmlsbD0iIzhEQzFDNCIgc3Ryb2tlPSIjOUM5QzlDIiBzdHJva2Utd2lkdGg9IjEuOTcxOSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBjeD0iMTciIGN5PSIzMC4xIiByPSI3LjIiLz4KCQk8Y2lyY2xlIGZpbGw9IiM4REMxQzQiIHN0cm9rZT0iIzlDOUM5QyIgc3Ryb2tlLXdpZHRoPSIxLjk3MTkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjQ0LjYiIGN5PSIyNi44IiByPSI3LjIiLz4KCQk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMjAuNSw0Mi4yYzAsMCw0LjUsMy45LDEyLjUsM3MxMi40LTYsMTIuNC02TDIwLjUsNDIuMnoiLz4KCQk8ZyBvcGFjaXR5PSIwLjMiPgoJCQk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTYuNCwyNC40Yy0zLjIsMC40LTUuNCwzLjItNSw2LjRjMC4yLDEuNCwwLjksMi43LDEuOCwzLjZsNy42LTguN0MxOS42LDI0LjcsMTguMSwyNC4yLDE2LjQsMjQuNHoiLz4KCQk8L2c+CgkJPGcgb3BhY2l0eT0iMC4zIj4KCQkJPHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTQzLjksMjEuMWMtMy4yLDAuNC01LjQsMy4yLTUsNi40YzAuMiwxLjQsMC45LDIuNywxLjgsMy42bDcuNi04LjdDNDcuMSwyMS40LDQ1LjUsMjAuOSw0My45LDIxLjF6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTkuOCwzMy44TDE5LjgsMzMuOGMtMi4xLDAuMi0zLjktMS4yLTQuMi0zLjNsMCwwYy0wLjItMi4xLDEuMi0zLjksMy4zLTQuMmgwYzIuMS0wLjIsMy45LDEuMiw0LjIsMy4zCgkJCQlsMCwwQzIzLjMsMzEuNiwyMS45LDMzLjUsMTkuOCwzMy44eiIvPgoJCQk8cGF0aCBmaWxsPSIjMzgzODM4IiBkPSJNMTkuNiwzMS44TDE5LjYsMzEuOGMtMSwwLjEtMS45LTAuNi0yLTEuNnYwYy0wLjEtMSwwLjYtMS45LDEuNi0yaDBjMS0wLjEsMS45LDAuNiwyLDEuNnYwCgkJCQlDMjEuMywzMC44LDIwLjYsMzEuNywxOS42LDMxLjh6Ii8+CgkJCTxyZWN0IHg9IjE3LjMiIHk9IjI4IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjk5MyAtMC4xMTg0IDAuMTE4NCAwLjk5MyAtMy4zMDE4IDIuMzYwMykiIGZpbGw9IiNGRkZGRkYiIHdpZHRoPSIxLjkiIGhlaWdodD0iMS45Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNNDMuMSwzMUw0My4xLDMxYy0yLjEsMC4yLTMuOS0xLjItNC4yLTMuM2wwLDBjLTAuMi0yLjEsMS4yLTMuOSwzLjMtNC4ybDAsMGMyLjEtMC4yLDMuOSwxLjIsNC4yLDMuM3YwCgkJCQlDNDYuNiwyOC45LDQ1LjIsMzAuNyw0My4xLDMxeiIvPgoJCQk8cGF0aCBmaWxsPSIjMzgzODM4IiBkPSJNNDIuOSwyOS4xTDQyLjksMjkuMWMtMSwwLjEtMS45LTAuNi0yLTEuNnYwYy0wLjEtMSwwLjYtMS45LDEuNi0yaDBjMS0wLjEsMS45LDAuNiwyLDEuNmwwLDAKCQkJCUM0NC42LDI4LDQzLjksMjguOSw0Mi45LDI5LjF6Ii8+CgkJCQoJCQkJPHJlY3QgeD0iNDAuNiIgeT0iMjUuMiIgdHJhbnNmb3JtPSJtYXRyaXgoMC45OTMgLTAuMTE4NCAwLjExODQgMC45OTMgLTIuODA4MiA1LjEwMjQpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMS45IiBoZWlnaHQ9IjEuOSIvPgoJCTwvZz4KCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiM2RDZFNzEiIHN0cm9rZS13aWR0aD0iMS4xNzU2IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIzMS42IiB5MT0iMTgiIHgyPSIzNC40IiB5Mj0iNDAuMiIvPgoJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzkzOTU5OCIgc3Ryb2tlLXdpZHRoPSIxLjE3NTYiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjI4IiB5MT0iMTguNCIgeDI9IjMwLjYiIHkyPSI0MC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8ZGVmcz4KCQkJPGVsbGlwc2UgaWQ9IlNWR0lEXzFfIiBjeD0iMzIuNSIgY3k9IjMyLjQiIHJ4PSIzMS45IiByeT0iMzEuNCIvPgoJCTwvZGVmcz4KCQk8Y2xpcFBhdGggaWQ9IlNWR0lEXzJfIj4KCQkJPHVzZSB4bGluazpocmVmPSIjU1ZHSURfMV8iICBvdmVyZmxvdz0idmlzaWJsZSIvPgoJCTwvY2xpcFBhdGg+CgkJPGcgY2xpcC1wYXRoPSJ1cmwoI1NWR0lEXzJfKSI+CgkJCTxnPgoJCQkJPHBhdGggZmlsbD0iIzAwOUFERiIgZD0iTTI1LjgsNjYuOHYtMS40YzAtMS40LDAuNy0yLjYsMS44LTMuM2w1LjQtMy40YzAuNi0wLjQsMS4zLTAuNiwyLjEtMC42YzAuNywwLDEuNSwwLjIsMi4xLDAuNmw1LjQsMy40CgkJCQkJYzEuMiwwLjcsMS44LDIsMS44LDMuM3YxLjRIMjUuOHoiLz4KCQkJCTxwYXRoIGZpbGw9IiMwMDlBREYiIGQ9Ik0zNS4xLDU5LjhjMC40LDAsMC44LDAuMSwxLjIsMC4zbDUuNCwzLjRjMC42LDAuNCwwLjksMC45LDEsMS42SDI3LjVjMC4xLTAuNywwLjUtMS4zLDEtMS42bDUuNC0zLjQKCQkJCQlDMzQuMyw1OS45LDM0LjcsNTkuOCwzNS4xLDU5LjggTTM1LjEsNTYuNGMtMSwwLTIuMSwwLjMtMywwLjlsLTUuNCwzLjRjLTEuNiwxLTIuNiwyLjgtMi42LDQuOHYzLjFoMjJ2LTMuMQoJCQkJCWMwLTEuOS0xLTMuNy0yLjYtNC44bC01LjQtMy40QzM3LjIsNTYuNywzNi4xLDU2LjQsMzUuMSw1Ni40TDM1LjEsNTYuNHoiLz4KCQkJPC9nPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM1ODU5NUIiIGQ9Ik00MCw2MC44bC01LjEtMmwtNS4zLDJjLTEuNCwwLTIuNS0wLjctMi41LTEuNnYtMy4xYzAtMC45LDEuMS0xLjYsMi41LTEuNmw1LjIsMmw1LjMtMgoJCQljMS40LDAsMi41LDAuNywyLjUsMS42djMuMUM0Mi42LDYwLjEsNDEuNCw2MC44LDQwLDYwLjh6Ii8+CgkJPGNpcmNsZSBmaWxsPSIjNTg1OTVCIiBjeD0iMzQuOSIgY3k9IjU3LjciIHI9IjIuNCIvPgoJPC9nPgoJPGNpcmNsZSBmaWxsPSIjODA4Mjg1IiBjeD0iMzQuOCIgY3k9IjU3LjciIHI9IjAuNyIvPgo8L2c+Cjwvc3ZnPgo=) no-repeat 0 0;background-size:cover}.chat-box[_ngicontent-%COMP%]{height:100%;width:100%;top:0;left:0;border-radius:0;position:fixed;background-color:#fff;max-width:600px;box-shadow:0 0 15px 0 rgba(0,0,0,.5);margin-left:auto;margin-right:auto;transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out}@media screen and (min-width:601px) and (max-width:1200px){.chat-box[_ngicontent-%COMP%]{max-height:550px}}@media screen and (min-width:1201px) and (max-width:2000px){.chat-box[_ngicontent-%COMP%]{max-height:550px}}@media screen and (min-width:2001px){.chat-box[_ngicontent-%COMP%]{max-height:550px}}@media screen and (min-width:601px) and (max-width:1200px){.chat-box[_ngicontent-%COMP%]{max-width:340px;bottom:0;right:30px;top:inherit;left:inherit}}@media screen and (min-width:1201px) and (max-width:2000px){.chat-box[_ngicontent-%COMP%]{max-width:340px;bottom:0;right:30px;top:inherit;left:inherit}}@media screen and (min-width:2001px){.chat-box[_ngicontent-%COMP%]{max-width:340px;bottom:0;right:30px;top:inherit;left:inherit}}.chat-box.chat-box-closed[_ngicontent-%COMP%]{display:none!important}@media screen and (min-width:601px) and (max-width:1200px){.chat-box.chat-box-closed[_ngicontent-%COMP%]{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-transform:translateY(490px);transform:translateY(490px)}}@media screen and (min-width:601px) and (max-width:1200px) and (max-height:550px){.chat-box.chat-box-closed[_ngicontent-%COMP%]{-webkit-transform:translateY(calc(100% - 60px));transform:translateY(calc(100% - 60px))}}@media screen and (min-width:1201px) and (max-width:2000px){.chat-box.chat-box-closed[_ngicontent-%COMP%]{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-transform:translateY(490px);transform:translateY(490px)}}@media screen and (min-width:1201px) and (max-width:2000px) and (max-height:550px){.chat-box.chat-box-closed[_ngicontent-%COMP%]{-webkit-transform:translateY(calc(100% - 60px));transform:translateY(calc(100% - 60px))}}@media screen and (min-width:2001px){.chat-box.chat-box-closed[_ngicontent-%COMP%]{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-transform:translateY(490px);transform:translateY(490px)}}@media screen and (min-width:2001px) and (max-height:550px){.chat-box.chat-box-closed[_ngicontent-%COMP%]{-webkit-transform:translateY(calc(100% - 60px));transform:translateY(calc(100% - 60px))}}@media screen and (min-width:601px) and (max-width:1200px){.chat-box.helper-open[_ngicontent-%COMP%]{-webkit-transform:translateY(386px);transform:translateY(386px)}}@media screen and (min-width:601px) and (max-width:1200px) and (max-height:550px){.chat-box.helper-open[_ngicontent-%COMP%]{-webkit-transform:translateY(calc(100% - 164px));transform:translateY(calc(100% - 164px))}}@media screen and (min-width:1201px) and (max-width:2000px){.chat-box.helper-open[_ngicontent-%COMP%]{-webkit-transform:translateY(386px);transform:translateY(386px)}}@media screen and (min-width:1201px) and (max-width:2000px) and (max-height:550px){.chat-box.helper-open[_ngicontent-%COMP%]{-webkit-transform:translateY(calc(100% - 164px));transform:translateY(calc(100% - 164px))}}@media screen and (min-width:2001px){.chat-box.helper-open[_ngicontent-%COMP%]{-webkit-transform:translateY(386px);transform:translateY(386px)}}@media screen and (min-width:2001px) and (max-height:550px){.chat-box.helper-open[_ngicontent-%COMP%]{-webkit-transform:translateY(calc(100% - 164px));transform:translateY(calc(100% - 164px))}}.chat-box[_ngicontent-%COMP%]   .help-header[_ngicontent-%COMP%]{color:#fff;background-color:#009adf;font-weight:700;height:104px;position:relative;box-shadow:0 5px 15px -5px rgba(0,0,0,.5)}.chat-box[_ngicontent-%COMP%]   .help-header[_ngicontent-%COMP%]   .bot-icon-img[_ngicontent-%COMP%]{cursor:pointer}.chat-box[_ngicontent-%COMP%]   .help-header[_ngicontent-%COMP%]   .bot-icon-img[_ngicontent-%COMP%]:after{height:65px;width:65px;position:absolute;top:20px;left:20px}.chat-box[_ngicontent-%COMP%]   .help-header[_ngicontent-%COMP%]   .help-header-label[_ngicontent-%COMP%]{cursor:pointer;font-size:21px;position:absolute;top:42px;left:116px}.chat-box[_ngicontent-%COMP%]   .help-header[_ngicontent-%COMP%]   .fa[_ngicontent-%COMP%]{cursor:pointer;font-size:16px;position:absolute;right:20px;top:19px}.chat-box[_ngicontent-%COMP%]   .help-footer[_ngicontent-%COMP%]{height:40px;color:#fff;background-color:#e6e7e8;padding:10px;box-sizing:content-box}.chat-box[_ngicontent-%COMP%]   .help-footer[_ngicontent-%COMP%]   .help-start[_ngicontent-%COMP%]{text-align:center;cursor:pointer;padding:10px;font-size:16px;height:20px;line-height:1.25;box-sizing:content-box;background-color:#0060a2}.chat-box[_ngicontent-%COMP%]   .help-footer[_ngicontent-%COMP%]   .help-start[_ngicontent-%COMP%]:hover{background-color:#009adf}.chat-box[_ngicontent-%COMP%]   .help-footer[_ngicontent-%COMP%]   .help-start[_ngicontent-%COMP%]:active{background-color:#979797}.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]{position:relative;overflow:hidden;font-weight:700;cursor:pointer;box-shadow:0 5px 15px -5px rgba(0,0,0,.5);z-index:1;background-color:#009adf;height:60px;box-sizing:content-box;color:#fff}@media screen and (min-width:601px) and (max-width:1200px){.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]{border-radius:0}}@media screen and (min-width:1201px) and (max-width:2000px){.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]{border-radius:0}}@media screen and (min-width:2001px){.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]{border-radius:0}}.chat-box[_ngicontent-%COMP%]   .header.disabled[_ngicontent-%COMP%]{cursor:default}.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]   .header-label[_ngicontent-%COMP%]{-webkit-user-select:none}.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]   .fa[_ngicontent-%COMP%]{position:absolute;right:20px;top:19px;cursor:pointer}.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]   .header-close-label[_ngicontent-%COMP%]{width:100%;font-size:21px;text-align:center;line-height:2.857}.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]   .header-open-label[_ngicontent-%COMP%]{font-size:16px;width:100%;text-align:center;line-height:3.75}.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]   .header-open-label[_ngicontent-%COMP%]:before{content:"";width:10px;height:10px;display:inline-block;border-radius:100%;margin-right:10px;background:#7ed321}.chat-box[_ngicontent-%COMP%]   .header[_ngicontent-%COMP%]   .header-logo[_ngicontent-%COMP%]{position:absolute;padding:6px;padding-left:20px;text-align:center;vertical-align:top;border-radius:100%;display:inline-block}.help-button-mobile[_ngicontent-%COMP%]{display:block;position:fixed;bottom:15px;right:15px;cursor:pointer}@media screen and (min-width:601px) and (max-width:1200px){.help-button-mobile[_ngicontent-%COMP%]{display:none}}@media screen and (min-width:1201px) and (max-width:2000px){.help-button-mobile[_ngicontent-%COMP%]{display:none}}@media screen and (min-width:2001px){.help-button-mobile[_ngicontent-%COMP%]{display:none}}.help-button-mobile[_ngicontent-%COMP%]   .help-button-label[_ngicontent-%COMP%]{color:#fff;background-color:#0060a2;font-size:13px;padding:5px 8px;width:80px;letter-spacing:-.02px;text-align:center;line-height:1;top:-14px;position:absolute;z-index:1}.help-button-mobile[_ngicontent-%COMP%]   .help-button-pin[_ngicontent-%COMP%]{width:0;height:0;left:47px;top:9px;position:absolute;z-index:10;border-style:solid;border-width:9px 9px 0 0;border-color:#0060a2 transparent transparent transparent}.help-button-mobile[_ngicontent-%COMP%]   .help-button-container[_ngicontent-%COMP%]{background-color:#009adf;width:74px;height:74px;border-radius:100%;box-shadow:0 0 15px 0 rgba(0,0,0,.5)}.help-button-mobile[_ngicontent-%COMP%]   .help-button-container[_ngicontent-%COMP%]   .bot-icon-img[_ngicontent-%COMP%]{position:relative;top:5px;left:5px}.help-button-mobile[_ngicontent-%COMP%]   .help-button-container[_ngicontent-%COMP%]   .bot-icon-img[_ngicontent-%COMP%]:after{width:64px;height:64px}'],Ot=l("685D"),vt=l("WtPQ"),kt=["[_ngihost-%COMP%]{min-height:0}.message-container[_ngicontent-%COMP%]{padding:10px;overflow-y:auto;overflow-x:hidden}.chat-container[_ngicontent-%COMP%]{position:relative;background-color:#e6e7e8;overflow:hidden;height:100%}"],jt=l("I3lw"),St=function(){function n(n,t){this._scrollToService=t,this.nativeElement=n.nativeElement}return n.prototype.scrollDown=function(){this._scrollToService.scrollTo({container:this.nativeElement,target:"bottom",duration:1e3,easing:"easeOutCubic"})},n.prototype.ngOnInit=function(){var n=this;this.mutationObserver=new MutationObserver(function(){n.scrollDown()}),this.mutationObserver.observe(this.nativeElement,{subtree:!0,childList:!0,characterData:!0})},n.prototype.ngOnDestroy=function(){this.mutationObserver.disconnect()},n.ctorParameters=function(){return[{type:tn.k},{type:jt.b}]},n}(),Lt=function(){function n(n,t){this.messageFactory=n,this.typingIndicator=t}return n.prototype.ngOnInit=function(){this.autoScroll.scrollDown()},Object.defineProperty(n.prototype,"suggestions",{get:function(){return this.messageFactory.suggestions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"messages",{get:function(){return this.messageFactory.messages},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"temp_message",{get:function(){return this.messageFactory.temp_message},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTyping",{get:function(){return this.typingIndicator.isTyping},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:rn},{type:cn}]},n}(),Nt=[kt],Tt=tn._6({encapsulation:0,styles:Nt,data:{}}),Dt=(tn._4("app-messages-container",Lt,Z,{},{},[]),[".user-input-wrapper[_ngicontent-%COMP%]{float:left;min-height:20px;max-height:90px;vertical-align:bottom;width:calc(100% - 64px);margin:15px 9px 13px 15px}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]{font-family:PlutoSansDPD;width:100%;padding:0;resize:none;font-size:14px;border:none;line-height:1.5;max-height:60px;overflow-y:scroll!important;overflow-x:hidden;-ms-overflow-style:none}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:focus{outline:none}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]::-webkit-input-placeholder{\n      color:#009adf;-webkit-user-select:none}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:-ms-input-placeholder{\n      color:#009adf;-webkit-user-select:none}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]::-moz-placeholder{\n      color:#009adf;-webkit-user-select:none}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:-moz-placeholder{\n      color:#009adf;-webkit-user-select:none}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:disabled{background-color:inherit}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:disabled::-webkit-input-placeholder{\n        color:#979797}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:disabled:-ms-input-placeholder{\n        color:#979797}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:disabled::-moz-placeholder{\n        color:#979797}.user-input-wrapper[_ngicontent-%COMP%]   textarea[_ngicontent-%COMP%]:disabled:-moz-placeholder{\n        color:#979797}.fa[_ngicontent-%COMP%]{cursor:pointer;font-size:20px;bottom:17px;position:absolute;color:#0060a2;transition:color .1s ease-in-out,-webkit-transform .1s ease-in-out;transition:transform .1s ease-in-out,color .1s ease-in-out;transition:transform .1s ease-in-out,color .1s ease-in-out,-webkit-transform .1s ease-in-out}.fa[_ngicontent-%COMP%]:hover{color:#009adf;-webkit-transform:scale(1.2);transform:scale(1.2)}.fa[_ngicontent-%COMP%]:active{color:#979797;-webkit-transform:scale(1);transform:scale(1)}"]),zt=l("UMwo"),Et=function(){function n(n,t,l){this.suggestionService=n,this.typingService=t,this.elementRef=l,this.model="",this.validate=new tn.m,this.isTyping=!1}return n.prototype.ngOnInit=function(){var n=this,t=new zt(window.navigator.userAgent);this.typingService.isTypingSubject.subscribe(function(l){n.isTyping=l,t.mobile()||n.focusOnInput()}),this.toggle.asObservable().subscribe(function(t){t||n.focusOnInput()}),this.suggestionService.clickedSuggestion.subscribe(function(l){t.mobile()||n.focusOnInput()})},Object.defineProperty(n.prototype,"height",{get:function(){return this.elementRef?this.elementRef.nativeElement.offsetHeight:0},enumerable:!0,configurable:!0}),n.prototype.sendMessage=function(){var n=this.model.trim();n.length>0&&this.validate.emit(n),this.model=""},n.prototype.focusOnInput=function(){var n=this;setTimeout(function(){n.textarea.nativeElement.focus()},200)},n.ctorParameters=function(){return[{type:sn},{type:cn},{type:tn.k}]},n}(),Gt=l("NVOs"),Yt=l("j0DV"),Jt=[Dt],Qt=tn._6({encapsulation:0,styles:Jt,data:{}}),Bt=(tn._4("app-user-input",Et,U,{toggle:"toggle"},{validate:"validate"},[]),[Pt]),Rt=tn._6({encapsulation:0,styles:Bt,data:{}}),Zt=tn._4("app-root",bn,$,{},{},[]),Ht=l("1GJ2"),At=l("KN8t"),Ut=l("Um43"),Wt=l("LuwH"),Ft=l("eZjk"),Xt=l("T22J"),Vt=l("23lo"),Kt=l("K0R4"),qt=l("uwN+"),$t=l("yfN+"),nl=l("ioK+"),tl=function(){function n(){}return n.prototype.getTranslation=function(n){return Object(nl.fromPromise)(l("GkxD")("./"+n+".json"))},n}(),ll=l("LyAf"),el=l("Sv80"),ol=l("Kzgc"),il=l("6hj+"),ul=l("rCTf"),al=l("PKvP"),sl=l("jdTm"),rl=l("lgiQ"),cl=l("s3oX"),pl=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),gl=function(n){function t(t,l,e){var o=n.call(this,e)||this;o.http=t,o.storageService=l,o.millisInterval=1e3,o.hasPendingRequest=!1,o.isTypingSubject=new fn.Subject,o.sendingNewMessages=!1,o.chatEndpoint=e.chatEndpoint,o.storagePrefix=e.localStoragePrefix+o.botName+o.botEnvironment;var i=o.getStoredCredentials();return i&&(o.credentials=i),o}return pl(t,n),t.prototype.get=function(){return this.startPolling()},t.prototype.sendPing=function(){this.sendingNewMessages=!0,this.send({content:{intent:"messenger_entrypoint"},content_type:"postback"})},t.prototype.send=function(n){var t=this,l=0;this.emitTyping(!0),this.getCredentials().mergeMap(function(l){var e=t.chatEndpoint+l.token+"?conversation_id="+l.conversation_id+"&_"+(new Date).getTime()+"&bot_name="+t.botName+"&bot_environment="+t.botEnvironment;return n=t.wrapExtraData(n,t.credentials.conversation_id),t.http.post(e,JSON.stringify(n),{headers:new _n.d({"Content-Type":"application/json"})})}).retryWhen(function(n){return n.mergeMap(function(n){return l++,401!==n.status||l>3?(t.emitTyping(!1),Object(cl._throw)(n)):(t.cleanCredentials(),t.credentials=null,Object(rl.of)(null))})}).subscribe()},t.prototype.connect=function(){var n=this;return this.http.get(this.chatEndpoint+"authenticate").map(function(n){return n.json()}).do(function(t){n.storeCredentials(t),n.credentials=t})},t.prototype.getCredentials=function(){var n=this;return new ul.Observable(function(t){t.next(n.credentials),t.complete()}).mergeMap(function(t){return t?Object(rl.of)(t):n.connect()})},t.prototype.poll=function(){var n=this;return this.getCredentials().do(function(){n.lastTimestamp&&(n.sendingNewMessages=!0)}).mergeMap(function(t){var l=n.chatEndpoint+t.token+"?conversation_id="+t.conversation_id+(n.lastTimestamp?"&last_message_date="+n.lastTimestamp:"")+"&_"+(new Date).getTime();return n.http.get(l)}).map(function(t){var l=t.json();return!n.sendingNewMessages&&l&&0===l.length&&n.sendPing(),l}).mergeMap(function(n){return Object(al.from)(n)}).reduce(function(t,l){n.lastTimestamp=Math.max(l.hook_reception_date||0,n.lastTimestamp||0),l.user_message.isOutgoing=!0,t.push(l.user_message);for(var e=0,o=l.bot_message.answers;o.length>e;e++){var i=o[e];i.isOutgoing=!1,t.push(i)}return t},[]).mergeMap(function(n){return Object(al.from)(n)}).retryWhen(function(t){return t.mergeMap(function(t){return 401===t.status?(n.cleanCredentials(),n.credentials=null,Object(rl.of)(null)):Object(cl._throw)(t)})})},t.prototype.startPolling=function(){var n=this;return Object(sl.timer)(0,this.millisInterval).filter(function(){return!1===n.hasPendingRequest}).switchMap(function(){return n.hasPendingRequest=!0,n.poll().catch(function(n){return Object(rl.of)({content_type:"error",content:n})}).finally(function(){return n.hasPendingRequest=!1}).do(function(){return n.emitTyping(!1)})}).merge(this.isTypingSubject)},t.prototype.emitTyping=function(n){this.isTypingSubject.next({content_type:n?"typing_on":"typing_off",content:{}})},t.prototype.isContextOutdated=function(){var n=this.storageService.get(this.storagePrefix+"botTimestamp");if(!n)return!0;var t=(new Date).getTime()-36e5;return parseInt(n,10)<t},t.prototype.getStoredCredentials=function(){var n=this.storageService.get(this.storagePrefix+"botToken"),t=this.storageService.get(this.storagePrefix+"botConversationId");return this.isContextOutdated()?null:n&&t?{token:n,conversation_id:t}:null},t.prototype.storeCredentials=function(n){this.storageService.set(this.storagePrefix+"botTimestamp",""+(new Date).getTime()),this.storageService.set(this.storagePrefix+"botToken",n.token),this.storageService.set(this.storagePrefix+"botConversationId",n.conversation_id)},t.prototype.cleanCredentials=function(){this.storageService.remove(this.storagePrefix+"botTimestamp"),this.storageService.remove(this.storagePrefix+"botToken"),this.storageService.remove(this.storagePrefix+"botConversationId")},t.ctorParameters=function(){return[{type:_n.e},{type:dn.a},{type:un.IAppConfig,decorators:[{type:tn.o,args:[on]}]}]},t}(gn),dl=l("OBRl"),hl=l("rl5v"),fl=function(){function n(){}return n}(),_l=tn._5(en,[bn],function(n){return tn._20([tn._21(512,tn.i,tn._1,[[8,[In,Tn,Yn,Fn,It,lt,ut,ct,ft,Zt]],[3,tn.i],tn.x]),tn._21(5120,tn.v,tn._19,[[3,tn.v]]),tn._21(4608,Mn.g,Mn.f,[tn.v]),tn._21(4608,tn.h,tn.h,[]),tn._21(5120,tn.a,tn._10,[]),tn._21(5120,tn.t,tn._16,[]),tn._21(5120,tn.u,tn._17,[]),tn._21(4608,mt.c,mt.t,[Mn.b]),tn._21(6144,tn.K,null,[mt.c]),tn._21(4608,mt.f,mt.g,[]),tn._21(5120,mt.d,function(n,t,l,e){return[new mt.l(n),new mt.p(t),new mt.o(l,e)]},[Mn.b,Mn.b,Mn.b,mt.f]),tn._21(4608,mt.e,mt.e,[mt.d,tn.z]),tn._21(135680,mt.n,mt.n,[Mn.b]),tn._21(4608,mt.m,mt.m,[mt.e,mt.n]),tn._21(5120,Ht.a,At.d,[]),tn._21(5120,Ht.c,At.e,[]),tn._21(4608,Ht.b,At.c,[Ht.a,Ht.c]),tn._21(5120,tn.I,At.f,[mt.m,Ht.b,tn.z]),tn._21(6144,mt.q,null,[mt.n]),tn._21(4608,tn.P,tn.P,[tn.z]),tn._21(4608,mt.h,mt.h,[Mn.b]),tn._21(4608,mt.j,mt.j,[Mn.b]),tn._21(4608,Ut.b,At.b,[tn.I,mt.b]),tn._21(4608,Gt.i,Gt.i,[]),tn._21(4608,_n.c,_n.c,[]),tn._21(4608,_n.h,_n.b,[]),tn._21(5120,_n.j,_n.k,[]),tn._21(4608,_n.i,_n.i,[_n.c,_n.h,_n.j]),tn._21(4608,_n.g,_n.a,[]),tn._21(5120,_n.e,_n.l,[_n.i,_n.g]),tn._21(4608,Wt.a,Wt.a,[tn.z]),tn._21(4608,Ft.a,Ft.a,[Xt.a]),tn._21(4608,Bn.a,Bn.a,[Ft.a,Wt.a]),tn._21(4608,Vt.b,Vt.a,[Wt.a,Ft.a]),tn._21(4608,jt.b,jt.b,[mt.b,tn.D]),tn._21(5120,on,o,[]),tn._21(4608,rn,rn,[on]),tn._21(4608,cn,cn,[]),tn._21(4608,sn,sn,[]),tn._21(5120,Kt.a,qt.d,[qt.b]),tn._21(4608,$t.b,tl,[]),tn._21(4608,ll.a,ll.b,[]),tn._21(4608,el.b,el.a,[]),tn._21(4608,ol.b,ol.a,[]),tn._21(4608,il.a,il.a,[]),tn._21(4608,vt.a,vt.a,[il.a,$t.b,ll.a,el.b,ol.b,vt.b,vt.c]),tn._21(4608,gn,gl,[_n.e,Kt.a,on]),tn._21(4608,pn,pn,[]),tn._21(4608,hn,hn,[gn,pn,rn,cn,sn,Kt.a,on]),tn._21(4608,gl,gl,[_n.e,Kt.a,on]),tn._21(512,Mn.a,Mn.a,[]),tn._21(1024,tn.l,mt.r,[]),tn._21(1024,tn.b,function(n,t){return[mt.s(n,t)]},[[2,mt.i],[2,tn.y]]),tn._21(512,tn.c,tn.c,[[2,tn.b]]),tn._21(131584,tn._8,tn._8,[tn.z,tn._2,tn.r,tn.l,tn.i,tn.c]),tn._21(2048,tn.e,null,[tn._8]),tn._21(512,tn.d,tn.d,[tn.e]),tn._21(512,mt.a,mt.a,[[3,mt.a]]),tn._21(512,At.a,At.a,[]),tn._21(512,Gt.h,Gt.h,[]),tn._21(512,Gt.c,Gt.c,[]),tn._21(512,_n.f,_n.f,[]),tn._21(512,dl.a,dl.a,[]),tn._21(512,hl.a,hl.a,[]),tn._21(512,qt.c,qt.c,[[3,qt.c]]),tn._21(512,mn.a,mn.a,[]),tn._21(512,jt.a,jt.a,[]),tn._21(512,fl,fl,[]),tn._21(512,en,en,[]),tn._21(256,Xt.a,Xt.c,[]),tn._21(256,qt.b,{prefix:"bot_interface"},[]),tn._21(256,vt.c,void 0,[]),tn._21(256,vt.b,!1,[])])});ln.production&&Object(tn.V)(),Object(mt.k)().bootstrapModuleFactory(_l)}},[0]);