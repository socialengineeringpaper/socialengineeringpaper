var SearchBox=function(){function n(){}return n.OnLoad=function(t,i,r){if(i?n.Focus(t):n.Blur(t),r){var u=$('#'+t+'_TextBox');u.keydown(function(i){n.OnTextBoxKeyDownHandler(t,i)}),u.keyup(function(i){n.OnTextBoxTextChangedHandler(t,i)}),u.focus(function(){n.OnTextBoxFocusHandler(t)}),u.blur(function(){n.OnTextBoxFocusHandler(t)}),u.bind('cut',function(i){setTimeout(function(){n.OnTextBoxTextChangedHandler(t,i)})}),u.bind('paste',function(i){setTimeout(function(){n.OnTextBoxTextChangedHandler(t,i)})}),$('#'+t+'_SearchButton').click(function(){return n.OnSearchButtonClickHandler(t),!1}),$('#'+t+'_CloseButton').click(function(){return n.OnCloseButtonClickHandler(t),!1})}},n.OnTextBoxFocusHandler=function(t){n.Focus(t)},n.OnTextBoxKeyDownHandler=function(t,i){i&&(i.which==13||i.keyCode==13?(n.OnSearchButtonClickHandler(t),n.KillEvent(i)):(i.which==27||i.keyCode==27)&&(n.OnCloseButtonClickHandler(t),n.KillEvent(i)))},n.OnTextBoxTextChangedHandler=function(t,i){n.OnTextBoxKeyDownHandler(t,i),typeof n.OnClientTextChangedHandlers[t]=="function"&&n.OnClientTextChangedHandlers[t]()},n.OnSearchButtonClickHandler=function(t){n.IsFocused(t)?typeof n.OnClientSearchHandler[t]=="function"&&n.OnClientSearchHandler[t]():n.Focus(t)},n.OnCloseButtonClickHandler=function(t){n.Blur(t)},n.IsFocused=function(t){var i=document.getElementById(t);return i!==null?n.HasClass(i,"focused"):!1},n.Focus=function(t){var r,u,i;n.IsFocused(t)||(r=document.getElementById(t),r!==null&&(n.AddClass(r,"focused"),u=r.getElementsByTagName('table')[0],n.AddClass(u,"ms-bcl-ts"),i=document.getElementById(t+"_TextBox"),i!==null&&(i.value=typeof n.Texts[t]=="string"?n.Texts[t]:"",i.focus(),i.select()),typeof n.OnClientFocusHandlers[t]=="function"&&n.OnClientFocusHandlers[t]()))},n.HasClass=function(n,t){return window.Sys?window.Sys.UI.DomElement.containsCssClass(n,t):$(n).hasClass(t)},n.AddClass=function(n,t){window.Sys?window.Sys.UI.DomElement.addCssClass(n,t):$(n).addClass(t)},n.RemoveClass=function(n,t){window.Sys?window.Sys.UI.DomElement.removeCssClass(n,t):$(n).removeClass(t)},n.Placeholders={},n.Texts={},n.OnClientFocusHandlers={},n.OnClientBlurHandlers={},n.OnClientTextChangedHandlers={},n.OnClientSearchHandler={},n.Blur=function(t){var i,f,r,u;n.IsFocused(t)&&(i=document.getElementById(t),i!==null&&(n.RemoveClass(i,"focused"),f=i.getElementsByTagName('table')[0],n.RemoveClass(f,"ms-bcl-ts"),r=document.getElementById(t+"_TextBox"),r!==null&&(n.Texts[t]=r.value,r.value=typeof n.Placeholders[t]=="string"?n.Placeholders[t]:""),u=document.getElementById(t+"_SearchButton"),u!==null&&window.setTimeout(u.focus,100),typeof n.OnClientBlurHandlers[t]=="function"&&n.OnClientBlurHandlers[t]()))},n.GetText=function(t){if(n.IsFocused(t)){var i=document.getElementById(t+"_TextBox");if(i!==null)return i.value}else return typeof n.Texts[t]=="string"?n.Texts[t]:"";return null},n.SetText=function(t,i){if(n.IsFocused(t)){var r=document.getElementById(t+"_TextBox");r!==null&&(r.value=i)}else n.Texts[t]=i},n.KillEvent=function(n){typeof n.preventDefault=="function"?n.preventDefault():n.returnValue=!1,typeof n.stopPropagation=="function"?n.stopPropagation():n.cancelBubble=!0},n}()