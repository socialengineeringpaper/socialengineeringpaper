var O365;(function(n){var t;(function(n){var t=function(){function n(){this.ProcessingIsDomainPresentRequest=null}return n.GetInstance=function(){return n.Instance==null&&(n.Instance=new n),n.Instance},n.prototype.Initialize=function(n,t,i){return this.ListGridId=n,this.NeedsToCheckDns=t,this.NeedsToBackfillDomainPurchaseData=i,window.O365Shell&&window.O365Shell.Notifications&&window.O365Shell.Notifications.RefreshSystemNotifications(),this},n.OnFetchDataCompleted=function(){var t=n.GetInstance();return t.SelectFirstRow(),t.NeedsToBackfillDomainPurchaseData&&(t.NeedsToBackfillDomainPurchaseData=!1,Microsoft.Online.BOX.Admin.UI.Domains.Reseller.DomainResellerManager.BackfillDomainPurchaseData(n.BackfillDomainPurchaseDataCallback,n.BackfillDomainPurchaseDataCallback)),t.NeedsToCheckDns&&(t.NeedsToCheckDns=!1,Microsoft.Online.BOX.Admin.UI.Domains.Repository.DomainUIRepository.CheckDns(n.CheckDnsCallback,n.CheckDnsCallback)),!1},n.BackfillDomainPurchaseDataCallback=function(t){t==1&&n.GetInstance().RefreshListGrid()},n.CheckDnsCallback=function(t){t.Status==1&&n.GetInstance().RefreshListGrid()},n.RemoveDomainByName=function(t){return t!=null&&t.length>0&&(DialogManager.showUrl(String.format(n.RemoveDomainPageUrlFormat,t[0]),n.RemoveDomainDialogTitle,function(t){n.RemoveDomainClose(t)},"width:400"),DialogManager.getTopDialogInstance().updateHeader(2,n.RemoveDomainDialogTitle,null,null)),!1},n.RemoveDomainClose=function(t){t!=null&&t==="YES"&&n.GetInstance().RefreshListGrid()},n.SetDefaultDomain=function(t){return t!=null&&t.length>0&&Microsoft.Online.BOX.Admin.UI.Domains.Repository.DomainUIRepository.SetDefaultDomain(t[0],"DomainManager",n.SetDefaultDomainCallback,n.SetDefaultDomainCallback),!1},n.SetDefaultDomainCallback=function(t){t.Status==1?n.GetInstance().RefreshListGrid():DialogManager.alertText(3,null,n.SetDefaultDomainErrorMessage,null,null)},n.ShowUnverifiedFederatedDomainDialog=function(){return DialogManager.alertText(3,n.UnverfiedFederatedDomainDialogTitle,n.UnverfiedFederatedDomainDialogBodyText,null,null),!1},n.ShowUpsellDialog=function(){return DialogManager.alertHtml(3,n.TrialPurchaseWarningTitle,n.SubscriptionsPageLink,null,null,null,null),!1},n.ShowBuyDomainFromPartnerDialog=function(){return DialogManager.alertHtml(3,null,n.BuyDomainFromPartnerDialogBodyText,null,null,null,null),!1},n.prototype.RefreshListGrid=function(){ListGrid.ListGridCollection[this.ListGridId].Refresh(),this.SelectFirstRow()},n.prototype.SelectFirstRow=function(){var t=ListGrid.ListGridCollection[this.ListGridId],n=$('tr[item]',t.GridView._gridviewTableElement);n.length&&$(n[0]).click()},n.Instance=null,n}();n.DomainManager=t})(t=n.Domains||(n.Domains={}))})(O365||(O365={}))