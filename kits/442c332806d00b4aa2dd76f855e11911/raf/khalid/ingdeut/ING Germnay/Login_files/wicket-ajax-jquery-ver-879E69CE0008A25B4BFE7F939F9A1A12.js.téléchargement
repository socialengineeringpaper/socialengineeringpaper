(function(e,f){if(typeof(Wicket)==="undefined"){window.Wicket={}}if(typeof(Wicket.Head)==="object"){return}var d=function(g){return(typeof(g)==="undefined"||g===null)};var c=function(){var g=Wicket.Ajax.baseUrl||".";return g};var a=function(h){var g=[],i;if(h&&h.length){for(i=0;i<h.length;i++){g.push(h.item(i))}}return g};var b=function(g){this.functions=g;this.current=0;this.depth=0;this.processNext=function(){if(this.current<this.functions.length){var h,i;h=this.functions[this.current];i=function(){try{var l=e.proxy(this.notify,this);return h(l)}catch(k){Wicket.Log.error("FunctionsExecuter.processNext:",k);return b.FAIL}};i=e.proxy(i,this);this.current++;if(this.depth>b.DEPTH_LIMIT){this.depth=0;window.setTimeout(i,1)}else{var j=i();if(d(j)||j===b.ASYNC){this.depth++}return j}}};this.start=function(){var h=b.DONE;while(h===b.DONE){h=this.processNext()}};this.notify=function(){this.start()}};b.DONE=1;b.FAIL=2;b.ASYNC=3;b.DEPTH_LIMIT=1000;Wicket.Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};Wicket.Log={enabled:false,log:function(){if(Wicket.Log.enabled&&typeof(console)!=="undefined"&&typeof(console.log)==="function"){console.log.apply(console,arguments)}},debug:function(){if(Wicket.Log.enabled&&typeof(console)!=="undefined"&&typeof(console.debug)==="function"){console.debug.apply(console,arguments)}},info:function(){if(Wicket.Log.enabled&&typeof(console)!=="undefined"&&typeof(console.info)==="function"){console.info.apply(console,arguments)}},warn:function(){if(Wicket.Log.enabled&&typeof(console)!=="undefined"&&typeof(console.warn)==="function"){console.warn.apply(console,arguments)}},error:function(){if(Wicket.Log.enabled&&typeof(console)!=="undefined"&&typeof(console.error)==="function"){console.error.apply(console,arguments)}}};Wicket.Channel=Wicket.Class.create();Wicket.Channel.prototype={initialize:function(g){g=g||"0|s";var h=g.match(/^([^|]+)\|(d|s|a)$/);if(d(h)){this.name="0";this.type="s"}else{this.name=h[1];this.type=h[2]}this.callbacks=[];this.busy=false},schedule:function(i){if(this.busy===false){this.busy=true;try{return i()}catch(h){this.busy=false;Wicket.Log.error("An error occurred while executing Ajax request:",h)}}else{var g="Channel '"+this.name+"' is busy";if(this.type==="s"){Wicket.Log.info("%s - scheduling the callback to be executed when the previous request finish.",g);this.callbacks.push(i)}else{if(this.type==="d"){Wicket.Log.info("%s - dropping all previous scheduled callbacks and scheduling a new one to be executed when the current request finish.",g);this.callbacks=[];this.callbacks.push(i)}else{if(this.type==="a"){Wicket.Log.info("%s - ignoring the Ajax call because there is a running request.",g)}}}return null}},done:function(){var g=null;if(this.callbacks.length>0){g=this.callbacks.shift()}if(g!==null&&typeof(g)!=="undefined"){Wicket.Log.info("Calling postponed function...");window.setTimeout(g,1)}else{this.busy=false}}};Wicket.ChannelManager=Wicket.Class.create();Wicket.ChannelManager.prototype={initialize:function(){this.channels={}},schedule:function(h,j){var g=new Wicket.Channel(h);var i=this.channels[g.name];if(d(i)){i=g;this.channels[i.name]=i}else{i.type=g.type}return i.schedule(j)},done:function(h){var g=new Wicket.Channel(h);var i=this.channels[g.name];if(!d(i)){i.done();if(!i.busy){delete this.channels[g.name]}}}};Wicket.ChannelManager.FunctionsExecuter=b;Wicket.Ajax={};Wicket.Ajax.Call=Wicket.Class.create();Wicket.Ajax._currentSuspension=f;Wicket.Ajax.suspendCall=function(){var g=Wicket.Ajax._currentSuspension;if(g===f){Wicket.Log.error("Can't suspend: no Ajax call in process");return}g.suspend();return function(){if(g!==null){g.release();g=null}}};Wicket.Ajax.Call.prototype={initialize:e.noop,_initializeDefaults:function(g){if(typeof(g.ch)!=="string"){g.ch="0|s"}if(typeof(g.wr)!=="boolean"){g.wr=true}if(typeof(g.dt)!=="string"){g.dt="xml"}if(typeof(g.m)!=="string"){g.m="GET"}if(g.async!==false){g.async=true}if(!e.isNumeric(g.rt)){g.rt=0}if(g.pd!==true){g.pd=false}if(!g.sp){g.sp="bubble"}if(!g.sr){g.sr=false}},_getTarget:function(g){var h;if(g.event){h=g.event.target}else{if(!e.isWindow(g.c)){h=Wicket.$(g.c)}else{h=window}}return h},_executeHandlers:function(g){if(e.isArray(g)){var j=Array.prototype.slice.call(arguments).slice(1);var h=j[0];var m=this._getTarget(h);for(var k=0;k<g.length;k++){var l=g[k];if(e.isFunction(l)){l.apply(m,j)}else{new Function(l).apply(m,j)}}}},_asParamArray:function(k){var g=[],l,h;if(e.isArray(k)){g=k}else{if(e.isPlainObject(k)){for(h in k){if(h&&k.hasOwnProperty(h)){l=k[h];g.push({name:h,value:l})}}}}for(var j=0;j<g.length;j++){if(g[j]===null){g.splice(j,1);j--}}return g},_calculateDynamicParameters:function(h){var m=h.dep,l=[];for(var j=0;j<m.length;j++){var k=m[j],g;if(e.isFunction(k)){g=k(h)}else{g=new Function("attrs",k)(h)}g=this._asParamArray(g);l=l.concat(g)}return l},ajax:function(g){this._initializeDefaults(g);var h=Wicket.channelManager.schedule(g.ch,Wicket.bind(function(){this.doAjax(g)},this));return h!==null?h:true},_isPresent:function(h){if(d(h)){return true}var g=Wicket.$(h);if(d(g)){return false}return(!g.hasAttribute||!g.hasAttribute("data-wicket-placeholder"))},doAjax:function(y){var j={"Wicket-Ajax":"true","Wicket-Ajax-BaseURL":c()},m=y.u,F=this._asParamArray(y.ep),v=this,o=[function(i){return v._isPresent(i.c)&&v._isPresent(i.f)}],k={attrs:y,steps:[]},q=Wicket.Event,A=q.Topic;if(Wicket.Focus.lastFocusId){j["Wicket-FocusedElementId"]=Wicket.Form.encode(Wicket.Focus.lastFocusId)}v._executeHandlers(y.bh,y);q.publish(A.AJAX_CALL_BEFORE,y);var C=y.pre||[];C=o.concat(C);if(e.isArray(C)){var n=this._getTarget(y);for(var w=0;w<C.length;w++){var x=C[w];var u;if(e.isFunction(x)){u=x.call(n,y)}else{u=new Function(x).call(n,y)}if(u===false){Wicket.Log.info("Ajax request stopped because of precondition check, url: %s",y.u);v.done(y);return false}}}q.publish(A.AJAX_CALL_PRECONDITION,y);if(y.f){var h=Wicket.$(y.f);F=F.concat(Wicket.Form.serializeForm(h));if(y.sc){var t=y.sc;F=F.concat({name:t,value:1})}}else{if(y.c&&!e.isWindow(y.c)){var g=Wicket.$(y.c);F=F.concat(Wicket.Form.serializeElement(g,y.sr))}}if(e.isArray(y.dep)){var E=this._calculateDynamicParameters(y);if(y.m.toLowerCase()==="post"){F=F.concat(E)}else{var l=m.indexOf("?")>-1?"&":"?";m=m+l+e.param(E)}}var s;if(y.mp){try{var B=new FormData();for(var D=0;D<F.length;D++){B.append(F[D].name,F[D].value||"")}F=B;s=false}catch(r){Wicket.Log.error("Ajax multipart not supported:",r)}}Wicket.Log.info("Executing Ajax request");Wicket.Log.debug(y);var z=e.ajax({url:m,type:y.m,context:v,processData:s,contentType:s,beforeSend:function(p,i){v._executeHandlers(y.bsh,y,p,i);q.publish(A.AJAX_CALL_BEFORE_SEND,y,p,i);if(y.i){Wicket.DOM.showIncrementally(y.i)}},data:F,dataType:y.dt,async:y.async,timeout:y.rt,cache:false,headers:j,success:function(p,G,i){if(y.wr){v.processAjaxResponse(p,G,i,k)}else{v._executeHandlers(y.sh,y,i,p,G);q.publish(A.AJAX_CALL_SUCCESS,y,i,p,G)}},error:function(p,G,i){if(p.status===301&&p.getResponseHeader("Ajax-Location")){v.processAjaxResponse(F,G,p,k)}else{v.failure(k,p,i,G)}},complete:function(p,G){k.steps.push(e.proxy(function(H){if(y.i&&k.isRedirecting!==true){Wicket.DOM.hideIncrementally(y.i)}v._executeHandlers(y.coh,y,p,G);q.publish(A.AJAX_CALL_COMPLETE,y,p,G);v.done(y);return b.DONE},v));var i=new b(k.steps);i.start()}});v._executeHandlers(y.ah,y);q.publish(A.AJAX_CALL_AFTER,y);return z},process:function(i){var h={attrs:{},steps:[]};var j=Wicket.Xml.parse(i);this.loadedCallback(j,h);var g=new b(h.steps);g.start()},processAjaxResponse:function(o,k,q,h){if(q.readyState===4){var g;try{g=q.getResponseHeader("Ajax-Location")}catch(p){}if(typeof(g)!=="undefined"&&g!==null&&g!==""){this.success(h);var m=/^[a-z][a-z0-9+.-]*:\/\//;if(g.charAt(0)==="/"||m.test(g)){h.isRedirecting=true;Wicket.Ajax.redirect(g)}else{var j=0;while(g.substring(0,3)==="../"){j++;g=g.substring(3)}var l=window.location.pathname;while(j>-1){j--;var n=l.lastIndexOf("/");if(n>-1){l=l.substring(0,n)}}l+="/"+g;h.isRedirecting=true;Wicket.Ajax.redirect(l)}}else{Wicket.Log.info("Received ajax response (%s characters)",q.responseText.length);Wicket.Log.debug(q.responseXML);return this.loadedCallback(o,h)}}},loadedCallback:function(o,m){try{var h=o.getElementsByTagName("ajax-response")[0];if(d(h)||h.tagName!=="ajax-response"){this.failure(m,null,"Could not find root <ajax-response> element",null);return}var j=m.steps;var g=-1;for(var l=0;l<h.childNodes.length;++l){var n=h.childNodes[l];if(n.tagName==="header-contribution"){this.processHeaderContribution(m,n)}else{if(n.tagName==="component"){if(g===-1){this.processFocusedComponentMark(m)}g=j.length;this.processComponent(m,n)}else{if(n.tagName==="redirect"){this.processRedirect(m,n)}}}}if(g!==-1){this.processFocusedComponentReplaceCheck(j,g)}this.success(m)}catch(k){this.failure(m,null,k,null)}},success:function(g){g.steps.push(e.proxy(function(i){Wicket.Log.info("Response processed successfully.");var h=g.attrs;this._executeHandlers(h.sh,h,null,null,"success");Wicket.Event.publish(Wicket.Event.Topic.AJAX_CALL_SUCCESS,h,null,null,"success");Wicket.Focus.requestFocus();return b.DONE},this))},failure:function(h,i,g,j){h.steps.push(e.proxy(function(l){if(g){Wicket.Log.error("Wicket.Ajax.Call.failure: Error while parsing response: %s",g)}var k=h.attrs;this._executeHandlers(k.fh,k,i,g,j);Wicket.Event.publish(Wicket.Event.Topic.AJAX_CALL_FAILURE,k,i,g,j);return b.DONE},this))},done:function(g){this._executeHandlers(g.dh,g);Wicket.Event.publish(Wicket.Event.Topic.AJAX_CALL_DONE,g);Wicket.channelManager.done(g.ch)},processComponent:function(g,h){g.steps.push(function(k){var j=h.getAttribute("id");var i=Wicket.$(j);if(d(i)){Wicket.Log.error("Wicket.Ajax.Call.processComponent: Component with id '%s' was not found while trying to perform markup update. Make sure you called component.setOutputMarkupId(true) on the component whose markup you are trying to update.",j)}else{var l=Wicket.DOM.text(h);Wicket.DOM.replace(i,l)}return b.DONE})},processHeaderContribution:function(g,h){var i=Wicket.Head.Contributor;i.processContribution(g,h)},processRedirect:function(g,h){var i=Wicket.DOM.text(h);Wicket.Log.info("Redirecting to: %s",i);g.isRedirecting=true;Wicket.Ajax.redirect(i)},processFocusedComponentMark:function(g){g.steps.push(function(h){Wicket.Focus.markFocusedComponent();return b.DONE})},processFocusedComponentReplaceCheck:function(g,h){g.splice(h+1,0,function(i){Wicket.Focus.checkFocusedComponentReplaced();return b.DONE})}};Wicket.ThrottlerEntry=Wicket.Class.create();Wicket.ThrottlerEntry.prototype={initialize:function(g){this.func=g;this.timestamp=new Date().getTime();this.timeoutVar=f},getTimestamp:function(){return this.timestamp},getFunc:function(){return this.func},setFunc:function(g){this.func=g},getTimeoutVar:function(){return this.timeoutVar},setTimeoutVar:function(g){this.timeoutVar=g}};Wicket.Throttler=Wicket.Class.create();Wicket.Throttler.entries=[];Wicket.Throttler.prototype={initialize:function(g){this.postponeTimerOnUpdate=g},throttle:function(l,h,k){var g=Wicket.Throttler.entries;var j=g[l];var i=this;if(typeof(j)==="undefined"){j=new Wicket.ThrottlerEntry(k);j.setTimeoutVar(window.setTimeout(function(){i.execute(l)},h));g[l]=j}else{j.setFunc(k);if(this.postponeTimerOnUpdate){window.clearTimeout(j.getTimeoutVar());j.setTimeoutVar(window.setTimeout(function(){i.execute(l)},h))}}},execute:function(j){var g=Wicket.Throttler.entries;var i=g[j];if(typeof(i)!=="undefined"){var h=i.getFunc();g[j]=f;return h()}}};e.extend(true,Wicket,{channelManager:new Wicket.ChannelManager(),throttler:new Wicket.Throttler(),$:function(g){return Wicket.DOM.get(g)},$$:function(g){return Wicket.DOM.inDoc(g)},merge:function(h,g){return e.extend({},h,g)},bind:function(h,g){return e.proxy(h,g)},Xml:{parse:function(h){var i=new DOMParser();var g=i.parseFromString(h,"text/xml");return g}},Form:{encode:function(g){if(window.encodeURIComponent){return window.encodeURIComponent(g)}else{return window.escape(g)}},serializeSelect:function(h){var g=[];if(h){var l=e(h);if(l.length>0&&l.prop("disabled")===false){var k=l.prop("name");var j=l.val();if(e.isArray(j)){for(var i=0;i<j.length;i++){var m=j[i];g.push({name:k,value:m})}}else{g.push({name:k,value:j})}}}return g},serializeInput:function(h){var g=[];if(h&&h.type){var j=e(h);if(h.type==="file"){for(var i=0;i<h.files.length;i++){g.push({name:h.name,value:h.files[i]})}}else{if(!(h.type==="image"||h.type==="submit")){g=j.serializeArray()}}}return g},excludeFromAjaxSerialization:{},serializeElement:function(l,k){if(!l){return[]}else{if(typeof(l)==="string"){l=Wicket.$(l)}}if(Wicket.Form.excludeFromAjaxSerialization&&l.id&&Wicket.Form.excludeFromAjaxSerialization[l.id]==="true"){return[]}var h=l.tagName.toLowerCase();if(h==="select"){return Wicket.Form.serializeSelect(l)}else{if(h==="input"||h==="textarea"){return Wicket.Form.serializeInput(l)}else{var g=[];if(k){var n=a(l.getElementsByTagName("input"));n=n.concat(a(l.getElementsByTagName("select")));n=n.concat(a(l.getElementsByTagName("textarea")));for(var j=0;j<n.length;++j){var m=n[j];if(m.name&&m.name!==""){g=g.concat(Wicket.Form.serializeElement(m,k))}}}return g}}},serializeForm:function(k){var g=[],l;if(k){if(k.tagName.toLowerCase()==="form"){l=k.elements}else{do{k=k.parentNode}while(k.tagName.toLowerCase()!=="form"&&k.tagName.toLowerCase()!=="body");l=a(k.getElementsByTagName("input"));l=l.concat(a(k.getElementsByTagName("select")));l=l.concat(a(k.getElementsByTagName("textarea")))}}for(var h=0;h<l.length;++h){var j=l[h];if(j.name&&j.name!==""){g=g.concat(Wicket.Form.serializeElement(j,false))}}return g},serialize:function(i,h){if(typeof(i)==="string"){i=Wicket.$(i)}if(i.tagName.toLowerCase()==="form"){return Wicket.Form.serializeForm(i)}else{var l=i;if(h!==true){do{i=i.parentNode}while(i.tagName.toLowerCase()!=="form"&&i.tagName.toLowerCase()!=="body")}if(i.tagName.toLowerCase()==="form"){return Wicket.Form.serializeForm(i)}else{var k=document.createElement("form");var j=l.parentNode;j.replaceChild(k,l);k.appendChild(l);var g=Wicket.Form.serializeForm(k);j.replaceChild(l,k);return g}}}},DOM:{show:function(h,g){h=Wicket.$(h);if(h!==null){if(d(g)){e(h).show()}else{h.style.display=g}}},hide:function(g){g=Wicket.$(g);if(g!==null){e(g).hide()}},toggleClass:function(i,g,h){e("#"+i).toggleClass(g,h)},showIncrementally:function(h){h=Wicket.$(h);if(h===null){return}var g=h.getAttribute("showIncrementallyCount");g=parseInt(d(g)?0:g,10);if(g>=0){Wicket.DOM.show(h)}h.setAttribute("showIncrementallyCount",g+1)},hideIncrementally:function(h){h=Wicket.$(h);if(h===null){return}var g=h.getAttribute("showIncrementallyCount");g=parseInt(d(g)?0:g-1,10);if(g<=0){Wicket.DOM.hide(h)}h.setAttribute("showIncrementallyCount",g)},get:function(g){if(d(g)){return null}if(arguments.length>1){var j=[];for(var h=0;h<arguments.length;h++){j.push(Wicket.DOM.get(arguments[h]))}return j}else{if(typeof g==="string"){return document.getElementById(g)}else{return g}}},inDoc:function(g){if(g===window){return true}if(typeof(g)==="string"){g=Wicket.$(g)}if(d(g)||d(g.tagName)){return false}var h=g.getAttribute("id");if(d(h)||h===""){return g.ownerDocument===document}else{return document.getElementById(h)===g}},replace:function(j,m){var i=Wicket.Event;var h=i.Topic;i.publish(h.DOM_NODE_REMOVING,j);if(j.tagName.toLowerCase()==="title"){var g=/>(.*?)</.exec(m)[1];document.title=g;return}else{var k=e.trim(m);var l=e(k);e(j).replaceWith(l)}var n=Wicket.$(j.id);if(n){i.publish(h.DOM_NODE_ADDED,n)}},add:function(i,l){var h=Wicket.Event;var g=h.Topic;var j=e.trim(l);var k=e(j);e(i).append(k);var m=Wicket.$(i.id);if(m){h.publish(g.DOM_NODE_ADDED,m)}},remove:function(i){var h=Wicket.Event;var g=h.Topic;h.publish(g.DOM_NODE_REMOVING,i);e(i).remove()},serializeNodeChildren:function(k){if(d(k)){return""}var g=[];if(k.childNodes.length>0){for(var j=0;j<k.childNodes.length;j++){var h=k.childNodes[j];switch(h.nodeType){case 1:case 5:g.push(this.serializeNode(h));break;case 8:g.push("<!--");g.push(h.nodeValue);g.push("-->");break;case 4:g.push("<![CDATA[");g.push(h.nodeValue);g.push("]]>");break;case 3:case 2:g.push(h.nodeValue);break;default:break}}}else{g.push(k.textContent||k.text)}return g.join("")},serializeNode:function(j){if(d(j)){return""}var g=[];g.push("<");g.push(j.nodeName);if(j.attributes&&j.attributes.length>0){for(var h=0;h<j.attributes.length;h++){if(j.attributes[h].nodeValue&&j.attributes[h].specified){g.push(" ");g.push(j.attributes[h].name);g.push('="');g.push(j.attributes[h].value);g.push('"')}}}g.push(">");g.push(Wicket.DOM.serializeNodeChildren(j));g.push("</");g.push(j.nodeName);g.push(">");return g.join("")},containsElement:function(g){var h=g.getAttribute("id");if(h){return Wicket.$(h)!==null}else{return false}},text:function(k){if(d(k)){return""}var g=[];if(k.childNodes.length>0){for(var j=0;j<k.childNodes.length;j++){var h=k.childNodes[j];switch(h.nodeType){case 1:case 5:g.push(this.text(h));break;case 3:case 4:g.push(h.nodeValue);break;default:break}}}else{g.push(k.textContent||k.text)}return g.join("")}},Ajax:{Call:Wicket.Ajax.Call,_handleEventCancelation:function(h){var g=h.event;if(g){if(h.pd){try{g.preventDefault()}catch(i){}}if(h.sp==="stop"){Wicket.Event.stop(g)}else{if(h.sp==="stopImmediate"){Wicket.Event.stop(g,true)}}}},get:function(g){g.m="GET";return Wicket.Ajax.ajax(g)},post:function(g){g.m="POST";return Wicket.Ajax.ajax(g)},ajax:function(g){g.c=g.c||window;g.e=g.e||["domready"];if(!e.isArray(g.e)){g.e=[g.e]}e.each(g.e,function(h,i){Wicket.Event.add(g.c,i,function(l,n){var m=new Wicket.Ajax.Call();var k=e.extend({},g);if(i!=="domready"){k.event=Wicket.Event.fix(l);if(n){k.event.extraData=n}}m._executeHandlers(k.ih,k);Wicket.Event.publish(Wicket.Event.Topic.AJAX_CALL_INIT,k);var o=k.tr;if(o){var j=o.p||false;var p=new Wicket.Throttler(j);p.throttle(o.id,o.d,Wicket.bind(function(){m.ajax(k)},this))}else{m.ajax(k)}if(i!=="domready"){Wicket.Ajax._handleEventCancelation(k)}},null,g.sel)})},process:function(h){var g=new Wicket.Ajax.Call();g.process(h)},redirect:function(g){window.location=g}},Head:{Contributor:{parse:function(h){var i=Wicket.DOM.text(h);var g=Wicket.Xml.parse(i);return g},_checkParserError:function(h){var g=false;if(!d(h.tagName)&&h.tagName.toLowerCase()==="parsererror"){Wicket.Log.error("Error in parsing: %s",h.textContent);g=true}return g},processContribution:function(k,p){var q=this.parse(p);var l=q.documentElement;if(this._checkParserError(l)){return}for(var o=0;o<l.childNodes.length;o++){var m=l.childNodes[o];if(this._checkParserError(m)){return}if(!d(m.tagName)){var h=m.tagName.toLowerCase();if(h==="wicket:link"){for(var n=0;n<m.childNodes.length;++n){var g=m.childNodes[n];if(g.nodeType===1){m=g;h=m.tagName.toLowerCase();break}}}if(h==="link"){this.processLink(k,m)}else{if(h==="script"){this.processScript(k,m)}else{if(h==="style"){this.processStyle(k,m)}else{if(h==="meta"){this.processMeta(k,m)}}}}}else{if(m.nodeType===8){this.processComment(k,m)}}}},processLink:function(g,h){g.steps.push(function(m){var l=Wicket.Head.containsElement(h,"href");var o=l.oldNode;if(l.contains){return b.DONE}else{if(o){o.parentNode.removeChild(o)}}var k=Wicket.Head.createElement("link");var i=e(h).prop("attributes");var n=e(k);e.each(i,function(){n.attr(this.name,this.value)});var p=false;function j(){if(!p){p=true;m()}}k.onerror=j;k.onload=j;Wicket.Head.addElement(k);return b.ASYNC})},processStyle:function(g,h){g.steps.push(function(i){if(Wicket.DOM.containsElement(h)){return b.DONE}var k=Wicket.DOM.serializeNodeChildren(h);var j=Wicket.Head.createElement("style");j.id=h.getAttribute("id");j.nonce=h.getAttribute("nonce");var l=document.createTextNode(k);j.appendChild(l);Wicket.Head.addElement(j);return b.DONE})},processScript:function(g,h){g.steps.push(function(s){if(!h.getAttribute("src")&&Wicket.DOM.containsElement(h)){return b.DONE}else{var o=Wicket.Head.containsElement(h,"src");var l=o.oldNode;if(o.contains){return b.DONE}else{if(l){l.parentNode.removeChild(l)}}}var m=document.createElement("script");var q=h.attributes;for(var p=0;p<q.length;p++){var n=q[p];m[n.name]=n.value}var i=h.getAttribute("src");if(i!==null&&i!==""){var u=function(){s()};if(typeof(m.onload)!=="undefined"){m.onload=u}else{if(typeof(m.onreadystatechange)!=="undefined"){m.onreadystatechange=function(){if(m.readyState==="loaded"||m.readyState==="complete"){u()}}}else{window.setTimeout(u,10)}}Wicket.Head.addElement(m);return b.ASYNC}else{var t={suspended:0,suspend:function(){t.suspended++},release:function(){t.suspended--;if(t.suspended===0){s()}}};var r=Wicket.DOM.serializeNodeChildren(h);r=r.replace(/^\n\/\*<!\[CDATA\[\*\/\n/,"");r=r.replace(/\n\/\*\]\]>\*\/\n$/,"");try{Wicket.Ajax._currentSuspension=t;m.innerHTML=r;var j=h.getAttribute("id");Wicket.Head.addElement(m,typeof(j)!=="string"||j.length===0)}catch(k){Wicket.Log.error("Ajax.Call.processEvaluation: Exception evaluating javascript: %s",r,k)}finally{Wicket.Ajax.currentSuspension=f}if(t.suspended===0){return b.DONE}else{return b.ASYNC}}})},processMeta:function(g,h){g.steps.push(function(m){var n=Wicket.Head.createElement("meta"),l=e(n),k=e(h).prop("attributes"),j=h.getAttribute("name"),i=h.getAttribute("http-equiv");if(j){e('meta[name="'+j+'"]').remove()}else{if(i){e('meta[http-equiv="'+i+'"]').remove()}}e.each(k,function(){l.attr(this.name,this.value)});Wicket.Head.addElement(n);return b.DONE})},processComment:function(g,h){g.steps.push(function(i){var j=document.createComment(h.nodeValue);Wicket.Head.addElement(j);return b.DONE})}},createElement:function(g){if(d(g)||g===""){Wicket.Log.error("Cannot create an element without a name");return}return document.createElement(g)},addElement:function(i,g){var j=document.querySelector('head meta[name="wicket.header.items"]');if(j){j.parentNode.insertBefore(i,j)}else{var h=document.querySelector("head");if(h){h.appendChild(i)}}if(g){i.parentNode.removeChild(i)}},containsElement:function(l,k){var q=l.getAttribute(k);if(d(q)||q===""){return{contains:false}}var p=l.tagName.toLowerCase();var n=l.getAttribute("id");var r=document.getElementsByTagName("head")[0];if(p==="script"){r=document}var g=r.getElementsByTagName(p);for(var m=0;m<g.length;++m){var h=g[m];if(h.tagName.toLowerCase()===p){var j=h.getAttribute(k);var o=h.getAttribute(k+"_");if(j===q||o===q){return{contains:true}}else{if(n&&n===h.getAttribute("id")){return{contains:false,oldNode:h}}}}}return{contains:false}}},Focus:{lastFocusId:"",refocusLastFocusedComponentAfterResponse:false,focusSetFromServer:false,focusin:function(h){h=Wicket.Event.fix(h);var i=h.target;if(i){var g=Wicket.Focus;g.refocusLastFocusedComponentAfterResponse=false;var j=i.id;g.lastFocusId=j;Wicket.Log.info("focus set on '%s'",j)}},focusout:function(h){h=Wicket.Event.fix(h);var i=h.target;var g=Wicket.Focus;if(i&&g.lastFocusId===i.id){var j=i.id;if(g.refocusLastFocusedComponentAfterResponse){Wicket.Log.info("focus removed from '%s' but ignored because of component replacement",j)}else{g.lastFocusId=null;Wicket.Log.info("focus removed from '%s'",j)}}},getFocusedElement:function(){var g=Wicket.Focus.lastFocusId;if(g){var h=Wicket.$(g);Wicket.Log.info("returned focused element:",h);return h}},setFocusOnId:function(h){var g=Wicket.Focus;if(h){g.refocusLastFocusedComponentAfterResponse=true;g.focusSetFromServer=true;g.lastFocusId=h;Wicket.Log.info("focus set on '%s' from server side",h)}else{g.refocusLastFocusedComponentAfterResponse=false;Wicket.Log.info("refocus focused component after request stopped from server side")}},markFocusedComponent:function(){var g=Wicket.Focus;var h=g.getFocusedElement();if(h){h.wasFocusedBeforeComponentReplacements=true;g.refocusLastFocusedComponentAfterResponse=true;g.focusSetFromServer=false}else{g.refocusLastFocusedComponentAfterResponse=false}},checkFocusedComponentReplaced:function(){var g=Wicket.Focus;if(g.refocusLastFocusedComponentAfterResponse){var h=g.getFocusedElement();if(h){if(typeof(h.wasFocusedBeforeComponentReplacements)!=="undefined"){g.refocusLastFocusedComponentAfterResponse=false}}else{g.refocusLastFocusedComponentAfterResponse=false;g.lastFocusId=""}}},requestFocus:function(){var i=Wicket.Focus;if(i.refocusLastFocusedComponentAfterResponse&&i.lastFocusId){var j=Wicket.$(i.lastFocusId);if(j){Wicket.Log.info("Calling focus on '%s'",i.lastFocusId);var h=function(){try{j.focus()}catch(k){}};if(i.focusSetFromServer){window.setTimeout(h,0)}else{var g=j.onfocus;j.onfocus=null;window.setTimeout(function(){h();j.onfocus=g},0)}}else{i.lastFocusId="";Wicket.Log.info("Couldn't set focus on element with id '%s' because it is not in the page anymore",i.lastFocusId)}}else{if(i.refocusLastFocusedComponentAfterResponse){Wicket.Log.info("last focus id was not set")}else{Wicket.Log.info("refocus last focused component not needed/allowed")}}Wicket.Focus.refocusLastFocusedComponentAfterResponse=false}},Timer:{set:function(g,i,h){if(typeof(Wicket.TimerHandles)==="undefined"){Wicket.TimerHandles={}}Wicket.Timer.clear(g);Wicket.TimerHandles[g]=setTimeout(function(){Wicket.Timer.clear(g);i()},h)},clear:function(g){if(Wicket.TimerHandles&&Wicket.TimerHandles[g]){clearTimeout(Wicket.TimerHandles[g]);delete Wicket.TimerHandles[g]}},clearAll:function(){var g=Wicket.TimerHandles;if(g){for(var h in g){if(g.hasOwnProperty(h)){Wicket.Timer.clear(h)}}}}},Event:{idCounter:0,getId:function(h){var g=e(h),i=g.prop("id");if(typeof(i)==="string"&&i.length>0){return i}else{i="wicket-generated-id-"+Wicket.Event.idCounter++;g.prop("id",i);return i}},keyCode:function(g){return Wicket.Event.fix(g).keyCode},stop:function(g,h){g=Wicket.Event.fix(g);if(h){g.stopImmediatePropagation()}else{g.stopPropagation()}return g},fix:function(g){return e.event.fix(g||window.event)},fire:function(g,h){e(g).trigger(h)},add:function(h,k,j,l,g){if(k==="domready"){e(j)}else{if(k==="load"&&h===window){e(window).on("load",function(){e(j)})}else{var i=h;if(typeof(h)==="string"){i=document.getElementById(h)}if(!i&&Wicket.Log){Wicket.Log.error("Cannot bind a listener for event '%s' because the element is not in the DOM",k,h)}e(i).on(k,g,l,j)}}return h},remove:function(g,i,h){e(g).off(i,h)},subscribe:function(g,h){if(g){e(document).on(g,h)}},unsubscribe:function(g,h){if(g){if(h){e(document).off(g,h)}else{e(document).off(g)}}else{e(document).off()}},publish:function(h){if(h){var g=Array.prototype.slice.call(arguments).slice(1);e(document).triggerHandler(h,g);e(document).triggerHandler("*",g)}},Topic:{DOM_NODE_REMOVING:"/dom/node/removing",DOM_NODE_ADDED:"/dom/node/added",AJAX_CALL_INIT:"/ajax/call/init",AJAX_CALL_BEFORE:"/ajax/call/before",AJAX_CALL_PRECONDITION:"/ajax/call/precondition",AJAX_CALL_BEFORE_SEND:"/ajax/call/beforeSend",AJAX_CALL_SUCCESS:"/ajax/call/success",AJAX_CALL_COMPLETE:"/ajax/call/complete",AJAX_CALL_AFTER:"/ajax/call/after",AJAX_CALL_FAILURE:"/ajax/call/failure",AJAX_CALL_DONE:"/ajax/call/done",AJAX_HANDLERS_BOUND:"/ajax/handlers/bound"}}});Wicket.Event.add(window,"focusin",Wicket.Focus.focusin);Wicket.Event.add(window,"focusout",Wicket.Focus.focusout);Wicket.Event.add(window,"unload",function(){Wicket.Timer.clearAll()})})(jQuery);