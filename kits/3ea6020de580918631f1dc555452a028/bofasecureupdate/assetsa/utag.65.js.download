//tealium universal tag - utag.65 ut4.0.202103060012, Copyright 2021 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={'view':1};u.initialized=false;u.map={};u.extend=[function(a,b){try{if(1){(function(parent,name,context,definition){if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();})('bactm','customEvents',typeof window!=='undefined'?window:null,function(){var parent='bactm',ba=window[parent],win=window,doc=document||{},version='2.5.0',ddo=win.digitalData,clickEventListenerAdded=false,customDimensions=processCustomDimensions(),ht='',allRules=[],parsedRules={},classSelectors=[],idSelectors=[],acceptedSelectors=['.','#'],clientHeight=doc.body.clientHeight||0,dle={},hasScrollTagFired={},LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1};var _fireGoogleAnalytics=function(el,rule){ba._log(':: Custom Event :: Handle Google Analytics.',LOG_LEVEL.DEBUG);if(typeof ga!=='function'){ba._log('ga is not a function. Click info not sent to GA.',LOG_LEVEL.ERROR);return;}
var d=rule;var page=ddo.page||{},attr=page.attributes||{},gaId=attr.gaId||{},config=customDimensions||{}
if(d.nonInteraction){config.nonInteraction=true;}
gaId.forEach(function(e,i){ga('T'+i+'.send','event',d.category,d.action,d.label,config);});}
var _fireBingUET=function(el,rule){try{ba._log(':: Custom Event :: Handle Bing UET.',LOG_LEVEL.DEBUG);if(typeof ba===undefined||typeof ba.uetq===undefined||typeof ba.uetq.push!=='function'){ba._log('uetq.push is not a function. Tag not sent to Bing.',LOG_LEVEL.ERROR);return;}
if(rule.bingUET===true){ba.uetq.push('pageLoad');}else{ba.uetq.push({el:rule.bingUET});}}catch(err){bactm.reportError(err);}}
var handleScenario=function(scenario){ba._log(':: Custom Event :: Handle conditional scenario.',LOG_LEVEL.DEBUG);try{var finalVar=win;var variablesToCheck=scenario.valueToCheck.split('.');for(var i=0;i<variablesToCheck.length;i++){finalVar=finalVar[variablesToCheck[i]];}
if(finalVar===scenario.conditional.value){_processRule(scenario.result,null);}}catch(e){ba._log(e,LOG_LEVEL.ERROR);bactm.reportError(err);}}
var processScenarios=function(){var scenariosToEvaluate=ba._asArray(parsedRules.pageRules[0].scenarios)
scenariosToEvaluate.forEach(function(scenario){ba._log('scenario rule to fire:',scenario,LOG_LEVEL.DEBUG);var localScenario=JSON.parse(JSON.stringify(scenario));handleScenario(localScenario,null);});}
var _fireCoremetricsManualLink=function(el,rule){ba._log(':: Custom Event :: Coremetrics Manual Link Click',LOG_LEVEL.DEBUG);if(typeof bactm_cmCreateManualLinkClickTag!=='function'){ba._log('bactm_cmCreateManualLinkClickTag is not a function. Click info not sent to CM.',LOG_LEVEL.ERROR);return;}
var pageID='',page=ddo.page||{},attr=page.attributes||{},history=attr.pageIDHistory||[];if(Array.isArray(history)&&history.length>0){pageID=history[history.length-1].pageID||'';}else if(Array.isArray(page.pageInfo)){pageID=page.pageInfo[0].pageID||'';}
var d=rule;el=el||{};try{bactm_cmCreateManualLinkClickTag(el.href||d.href||d.category,d.label,pageID);}catch(err){bactm.reportError(err);}}
window.gDataLayer=window.gDataLayer||[];window.gtag=function(){gDataLayer.push(arguments);}
gtag('js',new Date());var _fireDART=function(el,rule){ba._log(':: Custom Event :: Handle DART.',LOG_LEVEL.DEBUG);var dartTags=(typeof rule['dart']==='string')?ba._asArray({url:rule['dart'],options:null}):ba._asArray(rule['dart']);if(!dartTags)return false;dartTags.forEach(function(dart){var dartUrl='https://fls.doubleclick.net/activityi'+dart.url+';';if(dart.options!=null){dart.options.forEach(function(opt){dartUrl+=opt.varName+'=';dartUrl+=ba.ddo.get(opt.target,'null')+';';});}
_dartToGtag(dartUrl);});}
var _dartToGtag=function(dartUrl){try{var options={'allow_custom_scripts':true,'dc_custom_params':{}},params=dartUrl.split(';').slice(1);if(ba.polyfills.string.includes(dartUrl,'src=')&&ba.polyfills.string.includes(dartUrl,'type=')&&ba.polyfills.string.includes(dartUrl,'cat=')){var src,type,cat;params.forEach(function(param){if(ba.polyfills.string.includes(param,'src=')){src=param.split('=')[1];}else if(ba.polyfills.string.includes(param,'type=')){type=param.split('=')[1];}else if(ba.polyfills.string.includes(param,'cat=')){cat=param.split('=')[1];}else if(RegExp("u[0-9]+=.*").test(param)){options[param.split('=')[0]]=param.split('=')[1];}else if(ba.polyfills.string.includes(param,'qty=')){options.quantity=param.split('=')[1];}else if(ba.polyfills.string.includes(param,'cost=')){options.value=param.split('=')[1];}else if(ba.polyfills.string.includes(param,'dc_lat=')){options.dc_custom_params.dc_lat=param.split('=')[1];}else if(ba.polyfills.string.includes(param,'tag_for_child_directed_treatment')){options.dc_custom_params.tag_for_child_directed_treatment=param.split('=')[1];}else return;});options.send_to="DC-"+src+"/"+type+"/"+cat+"+unique";console.log(options);}else return;gtag('config','DC-'+src);gtag('event','conversion',options);}catch(e){ba._log('There was an error when trying to fire the DART tag.',e,LOG_LEVEL.ERROR);}}
var _fireMillwardBrown=function(el,rule){ba._log(':: Custom Event :: Handle Millward Brown.',LOG_LEVEL.DEBUG);var millwardBrown=ba._asArray(rule['millwardBrown']);if(!millwardBrown)return false;millwardBrown.forEach(function(mb){bactm.plugins.millwardBrown.initCampaign({"campaignId":mb.campaignId,"details":{"bannerId":mb.bannerId,"control":mb.control}})});}
var _firePixelTag=function(el,rule){ba._log(':: Custom Event :: Handle Pixel Tag.',LOG_LEVEL.DEBUG);var pixel=ba._asArray(rule['pixelTag']);if(!pixel)return false;pixel.forEach(function(p){bactm.plugins.pixelTag.firePixelTag(p.url,{"cacheBuster":p.cb||true,"startDt":p.startDt||null,"endDt":p.endDt||null});});}
var _fireConversionEvent=function(el,rule){ba._log(':: Custom Event :: Handle Conversion Events.',LOG_LEVEL.DEBUG);var pageInfo=pageInfo||ba._getPageInfo(getCurrentPageInfoArrayIndex(),getCurrentPageviewOptions()),eventName;var events=ba._asArray(rule['conversions']);events.forEach(function(c){eventName=handleDynamicCategory(c.eventName,pageInfo,c);eventName=sanitizeEventName(c.eventName,pageInfo,c.config);ba.conversion({eventName:eventName,actionType:c.actionType,category:c.category});});}
var fireBeacon=function(el,rule){try{ba._log(':: Custom Event :: Handle Affliate Beacon Tag.',LOG_LEVEL.DEBUG);var beaconFlag=ba.ddo.get('load_affiliateBeacon',false);if(beaconFlag){ba.plugins.pixelTag.firePixelTag(rule['beacon'],{"cacheBuster":true,"startDt":null,"endDt":null});}}catch(err){bactm.reportError(err);}}
var fireCJ=function(el,rule){ba._log(':: Custom Event :: Handle Commission Junction Tag.',LOG_LEVEL.DEBUG);ba.trigger('fireCJ',rule['commissionJunction']);}
var _handleCustom=function(el,rule){var customEvents=ba._asArray(rule.custom)
customEvents.forEach(function(customEvent){var localRule=customEvent;if(!customEvent||!customEvent.to)return;var customHandlers={'ga':_fireGoogleAnalytics,'cm':_fireCoremetricsManualLink};customEvent.to.forEach(function(provider){if(customHandlers[provider])customHandlers[provider](el,localRule);});});}
var _documentClickEventHandler=function(e){ba._log('Handling a click event on the document.',e,LOG_LEVEL.DEBUG);var path=_getEventPath(e);ba._log('The path for the element clicked is:',path,LOG_LEVEL.DEBUG);var matches=path.filter(function(el){var classes=typeof el.className==='string'?el.className.split(' ').filter(function(c){return c.length>0;}):[];var id=el.id||'';return classes.some(function(v){return classSelectors.indexOf(v)>=0;})||idSelectors.indexOf(id)>-1;});if(matches.length<=0)return;ba._log('Matches found in DOM click path.',matches,LOG_LEVEL.DEBUG);matches.forEach(_processElementInPathMatch);}
var _addDocumentClickEventListener=function(){ba._log('Creating global click event listener.',LOG_LEVEL.DEBUG);if(!clickEventListenerAdded){doc.addEventListener('click',_documentClickEventHandler,true);clickEventListenerAdded=true;}}
var _addInputEventListeners=function(){ba._log('Creating event listeners on inputs.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.inputRules,'blur');}
var _addSelectEventListeners=function(){ba._log('Creating event listeners on select elements.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.selectRules,'change');}
var _addHoverEventListeners=function(){ba._log('Creating event listeners on hover.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.hoverRules,'hover');}
var _addEventListeners=function(rules,event){if(!Array.isArray(rules))return;rules.forEach(function(rule){if(rule.id){var el=doc.getElementById(rule.id);if(el&&el.addEventListener){if(event==='hover'){_bindHoverEvent(el,rule);}else{el.addEventListener(event,function(e){_processRulesAgainstElement(this,rule);});}}}else if(rule.class){var elements=doc.getElementsByClassName(rule.class);for(var i=0,Len=elements.length||0;i<Len;i++){var el=elements[i];if(el.addEventListener){if(event==='hover'){_bindHoverEvent(el,rule);}else{el.addEventListener(event,function(e){_processRulesAgainstElement(this,rule);});}}}}});}
var _bindHoverEvent=function(el,rule){var storage={};var tracker={get:function(el){return storage[el+'On'];},set:function(el,value){storage[el+'On']=value;},delete:function(el){delete storage[el+'On'];}}
var startHover=function(e){tracker.set(this.id,Date.now());}
var endHover=function(e){var end=Date.now(),start=tracker.get(this.id);if(end-start>500){ht=(end-start);_processRulesAgainstElement(el,rule);}
tracker.delete(this.id);}
el.addEventListener('mouseover',startHover);el.addEventListener('mouseout',endHover);}
var _handleCustomEvent=function(details){ba._log('bactm.plugins.customEvents handling a customEvent.',LOG_LEVEL.DEBUG);if(typeof details==='undefined'||typeof details.eventKey==='undefined')return;var key=details.eventKey;var matchedRules=parsedRules.customRules.filter(function(rule){return rule.el.indexOf(key+':custom')===0;});if(matchedRules.length===0)return;matchedRules.forEach(function(rule){_processRulesAgainstCustomData(rule,details);});}
var _loadSettings=function(){ba._log('Loading click handler settings.',LOG_LEVEL.DEBUG);var settings=utag_data['customEventSettings']||utag_data['Custom_Event_Settings'];if(!settings)return;try{if(typeof settings==='string'&&settings!="")settings=JSON.parse(settings);allRules=ba._asArray(settings).map(function(rule){var classSelectorLoc=rule.el.indexOf('.'),idSelectorLoc=rule.el.indexOf('#'),pseudoClassSelectorLoc=rule.el.indexOf(':'),t=classSelectorLoc>-1?classSelectorLoc:idSelectorLoc,r=pseudoClassSelectorLoc>-1?pseudoClassSelectorLoc:rule.el.length,s=rule.el.substring(t,1),name=rule.el.substring(t+1,r);rule['id']='';rule['class']='';if(idSelectorLoc>-1){rule['id']=name;if(idSelectorLoc===0)idSelectors.push(name);}
if(classSelectorLoc>-1){rule['class']=name;if(classSelectorLoc===0)classSelectors.push(name);}
if(rule.custom){var customEvents;if(typeof rule.custom!==Array){customEvents=ba._asArray(rule.custom);}
customEvents.forEach(function(customEvent){if(!customEvent.category)customEvent.category='';if(!customEvent.action)customEvent.action='';if(!customEvent.label)customEvent.label='{{id}}_{{ca}}';});rule.custom=customEvents;}
return rule;});}catch(e){ba._log('Unable to parse the custom event settings. Valid JSON is required.',LOG_LEVEL.ERROR);return;}
parsedRules.clickRules=allRules.filter(function(rule){var s=rule.el?rule.el.substring(0,1):null;return s&&acceptedSelectors.indexOf(s)>-1;});parsedRules.inputRules=allRules.filter(function(rule){return rule.el.indexOf('input')===0;});parsedRules.selectRules=allRules.filter(function(rule){return rule.el.indexOf('select')===0;});parsedRules.hoverRules=allRules.filter(function(rule){return rule.el.indexOf(':hover')>-1;});parsedRules.scrollRules=allRules.filter(function(rule){return rule.el.indexOf(':scroll')>-1;});parsedRules.customRules=allRules.filter(function(rule){return rule.el.indexOf(':custom')>-1;})
ba._log('Settings ready:',parsedRules,LOG_LEVEL.DEBUG);}
var _loadPageSettings=function(){ba._log('Loading page level settings.',LOG_LEVEL.DEBUG);settings=utag_data['pageSettings']||utag.globals.dle.data.pageSettings;if(typeof settings==='string'&&settings!=="")
settings=JSON.parse(settings);if(typeof settings!=='undefined')
parsedRules.pageRules=ba._asArray(settings);}
var getCurrentPageInfoArrayIndex=function(){let pageInfoKey=0;if(!ddo||!window.dataCollector)return;window.dataCollector.some(function(data){if(data.event==='pageview'){pageInfoKey=data.pageInfoKey||0;}});return pageInfoKey;};var getCurrentPageviewOptions=function(){let options={};if(!ddo||!window.dataCollector)return;window.dataCollector.some(function(data){if(data.event==='pageview'){options=data.options||{};}});return options;};var _updateUtagData=function(pageInfoArrayIndex){if(!ddo||!window.dataCollector)return;var pageInfoIndex=pageInfoArrayIndex||getCurrentPageInfoArrayIndex();var pageID=(pageInfoIndex&&ddo.page.pageInfo[pageInfoIndex])?pageID=ddo.page.pageInfo[pageInfoIndex].pageID:pageID=ddo.page.pageInfo[0].pageID;var siteSettings=dle['siteSettings'];var pageSettings=dle['pageSettings'][pageID];var sitePageSettings={};for(key in pageSettings){if(siteSettings.hasOwnProperty(key)){sitePageSettings[key]=pageSettings[key].concat(siteSettings[key]);}else{sitePageSettings[key]=pageSettings[key];}}
for(key in siteSettings){if(!sitePageSettings.hasOwnProperty(key)){sitePageSettings[key]=siteSettings[key];}}
if(sitePageSettings.customEventSettings){utag_data.customEventSettings=sitePageSettings.customEventSettings;}
utag_data.pageSettings=sitePageSettings;}
var handleDynamicCategory=function(eventName,pageInfo,conversion){pageInfo||ba._getPageInfo(getCurrentPageInfoArrayIndex(),getCurrentPageviewOptions());if(conversion.actionType==='complete'&&pageInfo.category.indexOf("HL:APP:DMA")>-1&&eventName==="App Start to Submit"){eventName="_"+pageInfo.category.split('_')[2]+" "+eventName;}
return eventName;}
var sanitizeEventName=function(eventName,pageInfo,options){var appName=pageInfo.appName||'';if(options.appNameOverride){appName=options.appNameOverride;}
if(eventName.indexOf('_')===0){eventName=appName+eventName;}else{eventName=appName+' '+eventName;}
return eventName;}
var _insertData=function(s,data){if(s.indexOf('{{')===-1||s.indexOf('}}')===-1)return s;for(var d in data){if(data.hasOwnProperty(d)){s=s.replace('{{'+d+'}}',data[d]);}}
return s;}
var _formatRuleWithData=function(rule,data){for(var r in rule){if(rule.hasOwnProperty(r)){if(typeof rule[r]==='string')rule[r]=_insertData(rule[r],data);else if(typeof rule[r]==='object')_formatRuleWithData(rule[r],data);}}}
var _getDataFromElement=function(el){return{'id':el.id||'','url':el.href||'','ca':el.getAttribute('data-bactmln')||el.getAttribute('data-bactm-ca')||'','ca[0]':(el.getAttribute('data-bactmln')&&el.getAttribute('data-bactmln').split('-_-').length>2)?el.getAttribute('data-bactmln').split('-_-')[0]:'','ca[1]':(el.getAttribute('data-bactmln')&&el.getAttribute('data-bactmln').split('-_-').length>2)?el.getAttribute('data-bactmln').split('-_-')[1]:'','ca[2]':(el.getAttribute('data-bactmln')&&el.getAttribute('data-bactmln').split('-_-').length>2)?el.getAttribute('data-bactmln').split('-_-')[2]:'','val':el.value?_sanitizeWhitespace(el.value):'','ht':ht}}
var _processRule=function(ruleWithData,el){ba._log('Rule with data:',ruleWithData,LOG_LEVEL.DEBUG);var ruleHandlers={'custom':_handleCustom,'dart':_fireDART,'conversions':_fireConversionEvent,'millwardBrown':_fireMillwardBrown,'pixelTag':_firePixelTag,'bingUET':_fireBingUET,'scenarios':processScenarios,'beacon':fireBeacon,'commissionJunction':fireCJ,}
for(var r in ruleWithData){if(ruleWithData.hasOwnProperty(r)&&ruleHandlers[r])ruleHandlers[r](el,ruleWithData);}}
var _processRulesForPage=function(){var rulesToFire=ba._asArray(parsedRules.pageRules)
rulesToFire.forEach(function(rule){ba._log('rule to fire:',rule,LOG_LEVEL.DEBUG);var localRule=JSON.parse(JSON.stringify(rule));_processRule(localRule,null);});}
var _processRulesAgainstElement=function(el,rule,warmup){var localRule=JSON.parse(JSON.stringify(rule));var data=_getDataFromElement(el);_formatRuleWithData(localRule,data);if(warmup)return;_processRule(localRule,el);}
var _processElementInPathMatch=function(el){ba._log('Processing rules for:',el,LOG_LEVEL.DEBUG);var classes=typeof el.className==='string'?el.className.split(' ').filter(function(c){return c.length>0;}):[];var id=el.id||'';var rulesToFire=parsedRules.clickRules.filter(function(rule){return classes.indexOf(rule.class)>-1||(rule.id&&rule.id===id)});rulesToFire.forEach(function(rule){ba._log('rule to fire:',rule,LOG_LEVEL.DEBUG);_processRulesAgainstElement(el,rule);});}
var _processRulesAgainstCustomData=function(rule,details){var localRule=JSON.parse(JSON.stringify(rule));var data={};for(var key in details){data['c.'+key]=typeof details[key]==='string'?details[key]:JSON.stringify(details[key]);}
_formatRuleWithData(localRule,data);_processRule(localRule);}
var _warmUp=function(){var el=document.getElementsByTagName('a')[0];var rule=parsedRules.clickRules[0];if(el&&rule)_processRulesAgainstElement(el,rule,true);}
var _findInArray=function(haystack,predicate){if(!Array.isArray(haystack)||typeof predicate!=='function')return undefined;var value;for(var i=0,len=haystack.length;i<len;i++){value=haystack[i];if(predicate.call(value,value,i,haystack)){return value;}}
return undefined;}
var _getEventPath=function(event){var path=[];var target=event.target;while(target.parentNode){path.push(target);target=target.parentNode;}
return path;}
var _sanitizeWhitespace=function(value){return value.replace(/\s/g,'');}
var _addScrollListeners=function(){ba._log('Creating event listeners on scroll.',LOG_LEVEL.DEBUG);document.addEventListener('scroll',_trackScroll);};var _fireScrollTag=function(percentageScrolled){if(!hasScrollTagFired[percentageScrolled]){ba._log('bactm.plugins.customEvents handling a scroll event @ '+percentageScrolled,LOG_LEVEL.DEBUG);parsedRules.scrollRules.forEach(function(rule){if(parseInt(rule.el.split(':')[0].replace('depth',''),10)===percentageScrolled){_processRulesAgainstCustomData(rule,{eventKey:"scroll"+percentageScrolled});}});hasScrollTagFired[percentageScrolled]=true;}}
var _trackScroll=function(event){var clientY=Math.ceil(win.pageYOffset+win.innerHeight);var documentLength=Math.max(doc.documentElement.scrollHeight,doc.documentElement.offsetHeight,doc.documentElement.clientHeight);var percentageScrolled;if(documentLength>0){percentageScrolled=clientY/documentLength;}else{percentageScrolled=NaN;}
if(percentageScrolled>=.25){_fireScrollTag(25);}
if(percentageScrolled>=0.50){_fireScrollTag(50);}
if(percentageScrolled>=0.75){_fireScrollTag(75);}
if(percentageScrolled>=1){_fireScrollTag(100);}
if(isNaN(percentageScrolled)){ba.log('bactm.plugin.customEvents scroll tracking percentage NaN',LOG_LEVEL.ERROR);}}
function processCustomDimensions(){if(digitalData.page.attributes.gaCustomDimension){var cdValue=1;var gaCDObject={};for(val in digitalData.page.attributes.gaCustomDimension){if(cdValue<=20){var key=(digitalData.page.attributes.gaCustomDimension[val].indexOf('digitalData')>-1)?digitalData.page.attributes.gaCustomDimension[val].replace('digitalData.',''):digitalData.page.attributes.gaCustomDimension[val];var customDimension=bactm.ddo.get(key,"Nothing Here");customDimension=sanitizeDimension(customDimension,key);if(customDimension!=="Nothing Here"){var cdProp='dimension'+cdValue;gaCDObject[cdProp]=customDimension;cdValue++;}}else{break;}}
return gaCDObject;}
else return undefined;}
function sanitizeDimension(dimension,key){if(typeof dimension==="boolean"||typeof dimension==="number"){switch(key){case'user.authenticated':return(dimension===true)?'authenticated':'unauthenticated';default:return dimension.toString();}}else{return dimension;}}
var _init=function(){ba._log('bactm.plugins.customEvents v'+version+' initializing.',LOG_LEVEL.INFO);if(utag_data['siteSettings']||utag.globals.dle.data.siteSettings){dle.pageSettings=utag_data['pageSettings']||utag.globals.dle.data.pageSettings;dle.customEventSettings=utag_data['customEventSettings'];dle.siteSettings=utag_data['siteSettings']||utag.globals.dle.data.siteSettings;dle.attributes=utag_data['attributes']||utag.globals.dle.data.attributes;}
bactm.on('initDLEValues',function(){if(utag_data['siteSettings']||utag.globals.dle.data.siteSettings){_updateUtagData();}
_loadSettings();_loadPageSettings();if(parsedRules.clickRules&&parsedRules.clickRules.length>0){ba.ready(_warmUp);ba.ready(_addDocumentClickEventListener);}
if(parsedRules.inputRules&&parsedRules.inputRules.length>0){ba.ready(_addInputEventListeners);}
if(parsedRules.selectRules&&parsedRules.selectRules.length>0){ba.ready(_addSelectEventListeners);}
if(parsedRules.hoverRules&&parsedRules.hoverRules.length>0){ba.ready(_addHoverEventListeners);}
if(parsedRules.customRules&&parsedRules.customRules.length>0){ba.on('customEvent',_handleCustomEvent);}
if(parsedRules.scrollRules&&parsedRules.scrollRules.length>0){ba.ready(_addScrollListeners);}
if(parsedRules.pageRules){ba.ready(_processRulesForPage);}});}
_init();return{};});}}catch(e){utag.DB(e)}}];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,i;u.data={};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
}};utag.o[loader].loader.LOAD(id);})("65","bofa.main");}catch(error){utag.DB(error);}
